{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "BarChart.svelte",
    "ColumnChart.svelte",
    "LineChart.svelte",
    "ScatterChart.svelte",
    "AxisX.svelte",
    "AxisY.svelte",
    "Footer.svelte",
    "Labels.svelte",
    "Legend.svelte",
    "Line.svelte",
    "Title.svelte",
    "Voronoi.svelte",
    "Map.svelte",
    "MapTooltip.svelte",
    "LayerCake.svelte",
    "Html.svelte",
    "ScaledSvg.svelte",
    "Svg.svelte",
    "App.svelte",
    "Divider.svelte",
    "Filler.svelte",
    "Header.svelte",
    "Media.svelte",
    "ONSFooter.svelte",
    "ONSHeader.svelte",
    "Scroller.svelte",
    "Arrow.svelte",
    "Arrow2.svelte",
    "Em.svelte",
    "Toggle.svelte"
  ],
  "sourcesContent": [
    "<svelte:options accessors={true} />\n\n<script>\n\timport { LayerCake, Svg } from 'layercake';\n\timport { scaleBand, scaleOrdinal, scaleLinear, scaleSymlog } from 'd3-scale';\n  import { tweened } from 'svelte/motion';\n\timport { cubicInOut } from 'svelte/easing';\n\timport { groupData, stackData } from '../js/utils';\n\n\timport SetCoords from './shared/SetCoords.svelte';\n\timport Bar from './shared/Bar.svelte';\n\timport AxisX from './shared/AxisX.svelte';\n\timport AxisY from './shared/AxisY.svelte';\n\timport Legend from './shared/Legend.svelte';\n\timport Title from './shared/Title.svelte';\n\timport Footer from './shared/Footer.svelte';\n\n  export let data;\n\texport let height = 250; // number of pixels or valid css height string\n  export let animation = true;\n  export let duration = 800;\n\texport let xKey = 'x';\n\texport let yKey = 'y';\n\texport let zKey = null;\n\texport let idKey = yKey;\n\texport let xScale = 'linear';\n\texport let xFormatTick = d => d;\n\texport let xMax = null;\n\texport let xMin = 0;\n  export let xAxis = true;\n  export let yAxis = true;\n\texport let xTicks = 4;\n\texport let textColor = '#666';\n\texport let tickColor = '#ccc';\n\texport let tickDashed = false;\n\texport let title = null;\n\texport let footer = null;\n\texport let legend = false;\n\texport let snapTicks = false;\n\texport let mode = 'default'; // options: 'default', 'comparison', 'marker', 'stacked', 'grouped'\n\texport let padding = { top: 0, bottom: 20, left: 35, right: 0 };\n\texport let color = null;\n\texport let colors = color ? [color] : ['#206095', '#A8BD3A', '#003C57', '#27A0CC', '#118C7B', '#F66068', '#746CB1', '#22D0B6', 'lightgrey'];\n\texport let markerWidth = 2.5;\n\texport let spacing = 0.05; // proportion of bar width (1 = 100%)\n\texport let interactive = true;\n\texport let xPrefix = \"\";\n\texport let xSuffix = \"\";\n\texport let yPrefix = \"\";\n\texport let ySuffix = \"\";\n\texport let hover = false;\n\texport let hovered = null;\n\texport let colorHover = 'orange';\n\texport let select = false;\n\texport let selected = null;\n\texport let colorSelect = 'black';\n\texport let highlighted = [];\n\texport let colorHighlight = 'black';\n\texport let overlayFill = false;\n\n\tconst tweenOptions = {\n\t\tduration: duration,\n\t\teasing: cubicInOut\n\t};\n\tconst coords = tweened(undefined, tweenOptions);\n\n\tconst distinct = (d, i, arr) => arr.indexOf(d) ==  i;\n\n\tfunction getTotals(data, keys) {\n\t\tlet arr = [];\n\t\tkeys.forEach(key => {\n\t\t\tlet vals = data.filter(d => d[yKey] == key).map(d => d[xKey]);\n\t\t\tlet sum = vals.reduce((a, b) => a + b, 0);\n\t\t\tarr.push(sum);\n\t\t});\n\t\treturn arr;\n\t}\n\n\t// Functions to update xDomain\n\tconst xDomSet = (data, mode, xKey, xMax) => xMax ? [xMin, xMax] : mode == 'stacked' && zKey ? [xMin, Math.max(...getTotals(data, data.map(d => d[yKey]).filter(distinct)))] : [xMin, Math.max(...data.map(d => d[xKey]))];\n\tfunction xDomUpdate(data, mode, xKey, xMax) {\n\t\tlet newXDom = xDomSet(data, mode, xKey, xMax);\n\t\tif (newXDom[0] != xDom[0] || newXDom[1] != xDom[1]) {\n\t\t\txDomain.set(newXDom, {duration: animation ? duration : 0});\n\t\t\txDom = newXDom;\n\t\t}\n\t}\n\tlet xDom = xDomSet(data, mode, xKey, xMax);\n\tconst xDomain = tweened(xDom, tweenOptions);\n\t$: xDomUpdate(data, mode, xKey, xMax);\n\n\t// Functions to update yDomain & zDomain\n\t$: yDomain = data.map(d => d[yKey]).filter(distinct);\n\t$: zDomain = zKey ? data.map(d => d[zKey]).filter(distinct) : null;\n\n\t// Create a data series for each zKey (group)\n\t$: groupedData = mode == 'stacked' ? stackData(data, zDomain, xKey, zKey) : groupData(data, zDomain, zKey);\n</script>\n\n{#if title}\n  <Title>{title}</Title>\n{/if}\n<slot name=\"options\"/>\n<div class=\"chart-container\" style=\"height: {typeof height == 'number' ? height + 'px' : height }\">\n\t<LayerCake\n\t\t{padding}\n\t\tx={xKey}\n\t\ty={yKey}\n\t\tz={zKey}\n\t\txDomain={$xDomain}\n\t\t{yDomain}\n\t\txScale={xScale == 'log' ? scaleSymlog() : scaleLinear()}\n\t\tyScale={scaleBand().paddingInner([spacing]).round(true)}\n\t\tzScale={scaleOrdinal()}\n\t\t{zDomain}\n\t\tzRange={colors}\n\t\tdata={groupedData}\n\t\tflatData={data}\n\t\tcustom={{\n\t\t\ttype: 'bar',\n\t\t\tmode,\n\t\t\tidKey,\n      coords,\n\t\t\tmarkerWidth,\n\t\t\tcolorSelect,\n\t\t\tcolorHover,\n\t\t\tcolorHighlight,\n      animation,\n      duration\n    }}\n\t\tlet:width\n\t>\n\t  {#if width > 80} <!-- Hack to prevent rendering before xRange/yRange initialised -->\n\t  <SetCoords/>\n\t  <slot name=\"back\"/>\n\t\t<Svg pointerEvents={interactive}>\n      {#if xAxis}\n\t\t\t  <AxisX ticks={xTicks} formatTick={xFormatTick} {snapTicks} prefix={xPrefix} suffix={xSuffix} {textColor} {tickColor} {tickDashed}/>\n      {/if}\n      {#if yAxis}\n\t\t\t  <AxisY gridlines={false} prefix={yPrefix} suffix={ySuffix} {textColor} {tickColor} {tickDashed}/>\n      {/if}\n\t\t\t<Bar {select} {selected} {hover} {hovered} {highlighted} on:hover on:select {overlayFill}/>\n\t\t\t<slot name=\"svg\"/>\n\t\t</Svg>\n\t  <slot name=\"front\"/>\n\t\t{/if}\n\t</LayerCake>\n</div>\n{#if legend && zDomain}\n  <Legend domain={zDomain} {colors} {markerWidth} horizontal={false} line={mode == 'barcode'} comparison={mode == 'comparison'}/>\n{/if}\n{#if footer}\n  <Footer>{footer}</Footer>\n{/if}\n\n<style>\n\t.chart-container {\n\t\twidth: 100%;\n\t}\n</style>",
    "<svelte:options accessors={true} />\n\n<script>\n\timport { LayerCake, Svg } from 'layercake';\n\timport { scaleBand, scaleOrdinal, scaleLinear, scaleSymlog } from 'd3-scale';\n  import { tweened } from 'svelte/motion';\n\timport { cubicInOut } from 'svelte/easing';\n\timport { groupData, stackData } from '../js/utils';\n\n\timport SetCoords from './shared/SetCoords.svelte';\n\timport Column from './shared/Column.svelte';\n\timport AxisX from './shared/AxisX.svelte';\n\timport AxisY from './shared/AxisY.svelte';\n\timport Legend from './shared/Legend.svelte';\n\timport Title from './shared/Title.svelte';\n\timport Footer from './shared/Footer.svelte';\n\n  export let data;\n\texport let height = 250; // number of pixels or valid css height string\n  export let animation = true;\n  export let duration = 800;\n\texport let xKey = 'x';\n\texport let yKey = 'y';\n\texport let zKey = null;\n\texport let idKey = xKey;\n\texport let yScale = 'linear';\n\texport let yFormatTick = d => d;\n\texport let yMax = null;\n\texport let yMin = 0;\n  export let xAxis = true;\n  export let yAxis = true;\n\texport let yTicks = 4;\n\texport let title = null;\n\texport let footer = null;\n\texport let legend = false;\n\texport let mode = 'default'; // options: 'default', 'comparison', 'marker', 'stacked', 'grouped'\n\texport let padding = { top: 0, bottom: 20, left: 35, right: 0 };\n\texport let color = null;\n\texport let colors = color ? [color] : ['#206095', '#A8BD3A', '#003C57', '#27A0CC', '#118C7B', '#F66068', '#746CB1', '#22D0B6', 'lightgrey'];\n\texport let markerWidth = 2.5\n\texport let spacing = 0.05 // proportion of bar width (1 = 100%)\n\texport let interactive = true;\n\texport let xPrefix = \"\";\n\texport let xSuffix = \"\";\n\texport let yPrefix = \"\";\n\texport let ySuffix = \"\";\n\texport let hover = false;\n\texport let hovered = null;\n\texport let colorHover = 'orange';\n\texport let select = false;\n\texport let selected = null;\n\texport let colorSelect = 'black';\n\texport let highlighted = [];\n\texport let colorHighlight = 'black';\n\texport let overlayFill = false;\n\n\tconst tweenOptions = {\n\t\tduration: duration,\n\t\teasing: cubicInOut\n\t};\n\tconst coords = tweened(undefined, tweenOptions);\n\n\tconst distinct = (d, i, arr) => arr.indexOf(d) ==  i;\n\n\tfunction getTotals(data, keys) {\n\t\tlet arr = [];\n\t\tkeys.forEach(key => {\n\t\t\tlet vals = data.filter(d => d[xKey] == key).map(d => d[yKey]);\n\t\t\tlet sum = vals.reduce((a, b) => a + b, 0);\n\t\t\tarr.push(sum);\n\t\t});\n\t\treturn arr;\n\t}\n\n\t// Functions to animate yDomain\n\tconst yDomSet = (data, mode, yKey, yMax) => yMax ? [yMin, yMax] : mode == 'stacked' && yKey ? [yMin, Math.max(...getTotals(data, data.map(d => d[xKey]).filter(distinct)))] : [yMin, Math.max(...data.map(d => d[yKey]))];\n\tfunction yDomUpdate(data, mode, yKey, yMax) {\n\t\tlet newYDom = yDomSet(data, mode, yKey, yMax);\n\t\tif (newYDom[0] != yDom[0] || newYDom[1] != yDom[1]) {\n\t\t\tyDomain.set(newYDom, {duration: animation ? duration : 0});\n\t\t\tyDom = newYDom;\n\t\t}\n\t}\n\tlet yDom = yDomSet(data, mode, yKey, yMax);\n\tconst yDomain = tweened(yDom, tweenOptions);\n\t$: yDomUpdate(data, mode, yKey, yMax);\n\n\t// Functions to update xDomain & zDomain\n\t$: xDomain = data.map(d => d[xKey]).filter(distinct);\n\t$: zDomain = zKey ? data.map(d => d[zKey]).filter(distinct) : null;\n\n\t// Create a data series for each zKey (group)\n\t$: groupedData = mode == 'stacked' ? stackData(data, zDomain, yKey, zKey) : groupData(data, zDomain, zKey);\n</script>\n\n{#if title}\n  <Title>{title}</Title>\n{/if}\n<slot name=\"options\"/>\n<div class=\"chart-container\" style=\"height: {typeof height == 'number' ? height + 'px' : height }\">\n\t<LayerCake\n\t\t{padding}\n\t\tx={xKey}\n\t\ty={yKey}\n\t\tz={zKey}\n\t\t{xDomain}\n\t\tyDomain={$yDomain}\n\t\t{zDomain}\n\t\txScale={scaleBand().paddingInner([spacing]).round(true)}\n\t\tyScale={yScale == 'log' ? scaleSymlog() : scaleLinear()}\n\t\tzScale={scaleOrdinal()}\n\t\tzRange={colors}\n\t\tdata={groupedData}\n\t\tflatData={data}\n\t\tcustom={{\n\t\t\ttype: 'column',\n\t\t\tmode,\n\t\t\tidKey,\n      coords,\n\t\t\tmarkerWidth,\n\t\t\tcolorSelect,\n\t\t\tcolorHover,\n\t\t\tcolorHighlight,\n      animation,\n      duration\n    }}\n\t\tlet:width\n\t>\n\t  {#if width > 80} <!-- Hack to prevent rendering before xRange/yRange initialised -->\n\t\t<SetCoords/>\n\t  <slot name=\"back\"/>\n\t\t<Svg pointerEvents={interactive}>\n      {#if xAxis}\n\t\t\t  <AxisX gridlines={false} prefix={xPrefix} suffix={xSuffix}/>\n      {/if}\n      {#if yAxis}\n\t\t\t  <AxisY ticks={yTicks} formatTick={yFormatTick} prefix={yPrefix} suffix={ySuffix}/>\n      {/if}\n\t\t\t<Column {select} {selected} {hover} {hovered} {highlighted} on:hover on:select {overlayFill}/>\n\t\t\t<slot name=\"svg\"/>\n\t\t</Svg>\n\t  <slot name=\"front\"/>\n\t\t{/if}\n\t</LayerCake>\n</div>\n{#if legend && zDomain}\n  <Legend domain={zDomain} {colors} {markerWidth} line={mode == 'barcode'} comparison={mode == 'comparison'}/>\n{/if}\n{#if footer}\n  <Footer>{footer}</Footer>\n{/if}\n\n<style>\n\t.chart-container {\n\t\twidth: 100%;\n\t}\n</style>",
    "<svelte:options accessors={true} />\n\n<script>\n\timport { LayerCake, Svg } from 'layercake';\n\timport { scaleOrdinal, scaleLinear, scaleSymlog } from 'd3-scale';\n  import { tweened } from 'svelte/motion';\n\timport { cubicInOut } from 'svelte/easing';\n\timport { groupData, stackData } from '../js/utils';\n\n\timport SetCoords from './shared/SetCoords.svelte';\n\timport Line from './shared/Line.svelte';\n\timport Area from './shared/Area.svelte';\n\timport AxisX from './shared/AxisX.svelte';\n\timport AxisY from './shared/AxisY.svelte';\n\timport Legend from './shared/Legend.svelte';\n\timport Title from './shared/Title.svelte';\n\timport Footer from './shared/Footer.svelte';\n\timport Labels from './shared/Labels.svelte';\n\n  export let data;\n\texport let height = 250; // number of pixels or valid css height string\n  export let animation = true;\n  export let duration = 800;\n\texport let xKey = 'x';\n\texport let yKey = 'y';\n\texport let zKey = null;\n\texport let idKey = zKey;\n\texport let labelKey = idKey;\n\texport let yScale = 'linear';\n\texport let yFormatTick = d => d;\n\texport let yMax = null;\n\texport let yMin = 0;\n  export let xAxis = true;\n  export let yAxis = true;\n\texport let xTicks = 4;\n\texport let yTicks = 4;\n\texport let title = null;\n\texport let footer = null;\n\texport let legend = false;\n\texport let labels = false;\n\texport let snapTicks = true;\n  export let line = true;\n  export let area = true;\n\texport let mode = 'default';\n\texport let areaOpacity = 1;\n\texport let padding = { top: 0, bottom: 20, left: 35, right: 0 };\n\texport let color = null;\n\texport let colors = color ? [color] : ['#206095', '#A8BD3A', '#003C57', '#27A0CC', '#118C7B', '#F66068', '#746CB1', '#22D0B6', 'lightgrey'];\n\texport let lineWidth = 2.5;\n\texport let interactive = true;\n\texport let xPrefix = \"\";\n\texport let xSuffix = \"\";\n\texport let yPrefix = \"\";\n\texport let ySuffix = \"\";\n\texport let hover = false;\n\texport let hovered = null;\n\texport let colorHover = 'orange';\n\texport let select = false;\n\texport let selected = null;\n\texport let colorSelect = '#206095';\n\texport let highlighted = [];\n\texport let colorHighlight = '#206095';\n\n\tconst tweenOptions = {\n\t\tduration: duration,\n\t\teasing: cubicInOut\n\t};\n\tconst coords = tweened(undefined, tweenOptions);\n\n\tconst distinct = (d, i, arr) => arr.indexOf(d) ==  i;\n\n\tfunction getTotals(data, keys) {\n\t\tlet arr = [];\n\t\tkeys.forEach(key => {\n\t\t\tlet vals = data.filter(d => d[xKey] == key).map(d => d[yKey]);\n\t\t\tlet sum = vals.reduce((acc, curr) => acc + curr);\n\t\t\tarr.push(sum);\n\t\t});\n\t\treturn arr;\n\t}\n\n\t// Functions to animate yDomain\n\tconst yDomSet = (data, mode, yKey, yMax) => yMax ? [yMin, yMax] : mode == 'stacked' && yKey ? [yMin, Math.max(...getTotals(data, data.map(d => d[xKey]).filter(distinct)))] : [yMin, Math.max(...data.map(d => d[yKey]))];\n\tfunction yDomUpdate(data, mode, yKey, yMax) {\n\t\tlet newYDom = yDomSet(data, mode, yKey, yMax);\n\t\tif (newYDom[0] != yDom[0] || newYDom[1] != yDom[1]) {\n\t\t\tyDomain.set(newYDom, {duration: animation ? duration : 0});\n\t\t\tyDom = newYDom;\n\t\t}\n\t}\n\tlet yDom = yDomSet(data, mode, yKey, yMax);\n\tconst yDomain = tweened(yDom, tweenOptions);\n\t$: yDomUpdate(data, mode, yKey, yMax);\n\t\n\t// Function to update zDomain\n\t$: zDomain = zKey ? data.map(d => d[zKey]).filter(distinct) : null;\n\n\t// Create a data series for each zKey (group)\n\t$: groupedData = mode == 'stacked' ? stackData(data, zDomain, yKey, zKey) : groupData(data, zDomain, zKey);\n</script>\n\n{#if title}\n  <Title>{title}</Title>\n{/if}\n<slot name=\"options\"/>\n<div class=\"chart-container\" style=\"height: {typeof height == 'number' ? height + 'px' : height }\">\n\t<LayerCake\n\t\t{padding}\n\t\tx={xKey}\n\t\ty={yKey}\n\t\tz={zKey}\n\t\tyDomain={$yDomain}\n\t\tyScale={yScale == 'log' ? scaleSymlog() : scaleLinear()}\n\t\tzScale={scaleOrdinal()}\n\t\t{zDomain}\n\t\tzRange={colors}\n\t\tdata={groupedData}\n\t\tflatData={data}\n\t\tcustom={{\n\t\t\ttype: 'line',\n\t\t\tmode,\n\t\t\tidKey,\n\t\t\tlabelKey,\n\t\t\tcoords,\n\t\t\tcolorSelect,\n\t\t\tcolorHover,\n\t\t\tcolorHighlight,\n      animation,\n      duration\n    }}\n\t\tlet:width\n\t>\n\t  {#if width > 80} <!-- Hack to prevent rendering before xRange/yRange initialised -->\n\t\t<SetCoords/>\n\t  <slot name=\"back\"/>\n\t\t<Svg pointerEvents={interactive}>\n      {#if xAxis}\n\t\t\t  <AxisX ticks={xTicks} {snapTicks} prefix={xPrefix} suffix={xSuffix}/>\n      {/if}\n      {#if yAxis}\n\t\t\t  <AxisY ticks={yTicks} formatTick={yFormatTick} prefix={yPrefix} suffix={ySuffix}/>\n      {/if}\n      {#if area}\n\t\t\t  <Area {mode} opacity={areaOpacity}/>\n      {/if}\n      {#if line}\n\t\t\t  <Line {lineWidth} {select} bind:selected {hover} bind:hovered {highlighted} on:hover on:select/>\n      {/if}\n\t\t\t{#if labels}\n\t\t\t\t<Labels {hovered} {selected}/>\n\t\t\t{/if}\n\t\t\t<slot name=\"svg\"/>\n\t\t</Svg>\n\t  <slot name=\"front\"/>\n\t\t{/if}\n\t</LayerCake>\n</div>\n{#if legend && zDomain}\n  <Legend domain={zDomain} {colors} {line} markerWidth={lineWidth}/>\n{/if}\n{#if footer}\n  <Footer>{footer}</Footer>\n{/if}\n\n<style>\n\t.chart-container {\n\t\twidth: 100%;\n\t}\n</style>",
    "<svelte:options accessors={true} />\n\n<script>\t\n\timport { LayerCake, Svg } from 'layercake';\n\timport { scaleOrdinal, scaleLinear, scaleSymlog } from 'd3-scale';\n  import { tweened } from 'svelte/motion';\n\timport { cubicInOut } from 'svelte/easing';\n\n\timport SetCoords from './shared/SetCoords.svelte';\n\timport Scatter from './shared/Scatter.svg.svelte';\n\timport Voronoi from './shared/Voronoi.svelte';\n\timport AxisX from './shared/AxisX.svelte';\n\timport AxisY from './shared/AxisY.svelte';\n\timport Legend from './shared/Legend.svelte';\n\timport Title from './shared/Title.svelte';\n\timport Footer from './shared/Footer.svelte';\n\timport Labels from './shared/Labels.svelte';\n\n\texport let data;\n\texport let height = 250; // number of pixels or valid css height string\n  export let animation = true;\n  export let duration = 800;\n\texport let xKey = 'x';\n\texport let yKey = null;\n\texport let zKey = null;\n  export let rKey = null;\n\texport let idKey = xKey;\n\texport let labelKey = idKey;\n\texport let xScale = 'linear';\n\texport let yScale = 'linear';\n\texport let xFormatTick = d => d;\n\texport let yFormatTick = d => d;\n\texport let xMax = null;\n\texport let xMin = null;\n\texport let yMax = null;\n\texport let yMin = null;\n  export let xAxis = true;\n  export let yAxis = true;\n\texport let xTicks = 4;\n  export let yTicks = 4;\n\texport let textColor = '#666';\n\texport let tickColor = '#ccc';\n\texport let tickDashed = false;\n\texport let title = null;\n\texport let footer = null;\n\texport let legend = false;\n\texport let labels = false;\n\texport let snapTicks = false;\n  export let padding = { top: 0, bottom: 20, left: 35, right: 0 };\n  export let buffer = 5;\n\texport let color = null;\n\texport let colors = color ? [color] : ['#206095', '#A8BD3A', '#003C57', '#27A0CC', '#118C7B', '#F66068', '#746CB1', '#22D0B6', 'lightgrey'];\n\texport let r = 4;\n\texport let interactive = true;\n\texport let xPrefix = \"\";\n\texport let xSuffix = \"\";\n\texport let yPrefix = \"\";\n\texport let ySuffix = \"\";\n\texport let hover = false;\n\texport let hovered = null;\n\texport let colorHover = 'orange';\n\texport let select = false;\n\texport let selected = null;\n\texport let colorSelect = 'black';\n\texport let highlighted = [];\n\texport let colorHighlight = 'black';\n\texport let overlayFill = false;\n\n\tconst tweenOptions = {\n\t\tduration: duration,\n\t\teasing: cubicInOut\n\t};\n\tconst coords = tweened(undefined, tweenOptions);\n  \n  const distinct = (d, i, arr) => arr.indexOf(d) ==  i;\n\n\tfunction domGet(data, key, min, max) {\n\t\tlet vals = data.map(d => d[key]);\n\t\treturn [min ? min : vals[0] ? Math.min(...vals) : -1, max ? max : vals[0] ? Math.max(...vals) : 1];\n\t}\n\tfunction xDomUpdate(data, key, min, max) {\n\t\tlet newDom = domGet(data, key, min, max);\n\t\tif (newDom[0] != xDom[0] || newDom[1] != xDom[1]) {\n\t\t\txDomain.set(newDom);\n\t\t\txDom = newDom;\n\t\t}\n\t}\n\tfunction yDomUpdate(data, key, min, max) {\n\t\tlet newDom = key ? domGet(data, key, min, max) : yDom;\n\t\tif (newDom[0] != yDom[0] || newDom[1] != yDom[1]) {\n\t\t\tyDomain.set(newDom, {duration: animation ? duration : 0});\n\t\t\tyDom = newDom;\n\t\t}\n\t}\n\tlet xDom = domGet(data, xKey, xMin, xMax);\n\tconst xDomain = tweened(xDom, tweenOptions);\n\tlet yDom = domGet(data, yKey, yMin, yMax);\n\tconst yDomain = tweened(yDom, tweenOptions);\n\n\t$: xDomUpdate(data, xKey, xMin, xMax);\n\t$: yDomUpdate(data, yKey, yMin, yMax);\n  $: zDomain = zKey ? data.map(d => d[zKey]).filter(distinct) : null;\n</script>\n\n{#if title}\n  <Title>{title}</Title>\n{/if}\n<slot name=\"options\"/>\n<div class=\"chart-container\" style=\"height: {typeof height == 'number' ? height + 'px' : height }\">\n\t<LayerCake\n    {padding}\n\t\tx={xKey}\n\t\ty={yKey}\n    z={zKey}\n    r={rKey}\n\t\txScale={xScale == 'log' ? scaleSymlog() : scaleLinear()}\n\t\tyScale={yScale == 'log' ? scaleSymlog() : scaleLinear()}\n    zScale={scaleOrdinal()}\n\t\txDomain={$xDomain}\n\t\tyDomain={$yDomain}\n\t\t{zDomain}\n\t\tzRange={colors}\n    rRange={Array.isArray(r) ? r : [r, r]}\n\t\tdata={data}\n    xPadding={[buffer, buffer]}\n    yPadding={yKey ? [buffer, buffer] : null}\n    custom={{\n\t\t\ttype: 'scatter',\n\t\t\tidKey,\n\t\t\tlabelKey,\n      coords,\n\t\t\tcolorSelect,\n\t\t\tcolorHover,\n\t\t\tcolorHighlight,\n\t\t\tpadding: 1,\n      animation,\n      duration\n    }}\n\t\tlet:width\n\t>\n\t  {#if width > 80} <!-- Hack to prevent rendering before xRange/yRange initialised -->\n\t\t<SetCoords/>\n    <slot name=\"back\"/>\n\t\t<Svg pointerEvents={interactive}>\n      {#if xAxis}\n\t\t\t  <AxisX ticks={xTicks} formatTick={xFormatTick} {snapTicks} prefix={xPrefix} suffix={xSuffix} {textColor} {tickColor} {tickDashed}/>\n      {/if}\n      {#if yAxis && yKey}\n\t\t\t  <AxisY ticks={yTicks} formatTick={yFormatTick} prefix={yPrefix} suffix={ySuffix} {textColor} {tickColor} {tickDashed}/>\n      {/if}\n\t\t\t<Scatter {selected} {hovered} {highlighted} {overlayFill}/>\n\t\t\t{#if select || hover}\n\t\t\t\t<Voronoi {select} bind:selected {hover} bind:hovered {highlighted} on:hover on:select/>\n\t\t\t{/if}\n\t\t\t{#if labels}\n\t\t\t\t<Labels {hovered} {selected}/>\n\t\t\t{/if}\n\t\t\t<slot name=\"svg\"/>\n\t\t</Svg>\n\t  <slot name=\"front\"/>\n\t\t{/if}\n\t</LayerCake>\n</div>\n{#if legend && zDomain}\n  <Legend domain={zDomain} {colors} markerLength={Array.isArray(r) ? r[0] * 2 : r * 2} round={true}/>\n{/if}\n{#if footer}\n  <Footer>{footer}</Footer>\n{/if}\n\n<style>\n\t.chart-container {\n\t\twidth: 100%;\n\t}\n</style>",
    "<script>\n\timport { getContext } from 'svelte';\n\n\tconst { width, height, xScale, yRange } = getContext('LayerCake');\n\n\texport let gridlines = true;\n\texport let tickDashed = false;\n\texport let tickMarks = false;\n\texport let tickColor = '#bbb';\n\texport let textColor = '#666';\n\texport let formatTick = d => d;\n\texport let snapTicks = false;\n\texport let ticks = undefined;\n\texport let xTick = undefined;\n\texport let yTick = 16;\n\texport let dxTick = 0;\n\texport let dyTick = 0;\n\texport let prefix = '';\n\texport let suffix = '';\n\n\t$: isBandwidth = typeof $xScale.bandwidth === 'function';\n\n\t$: tickVals = Array.isArray(ticks) ? ticks :\n\t\tisBandwidth ?\n\t\t\t$xScale.domain() :\n\t\t\ttypeof ticks === 'function' ?\n\t\t\t\tticks($xScale.ticks()) :\n\t\t\t\t\t$xScale.ticks(ticks);\n\n\tfunction textAnchor(i) {\n\t\tif (snapTicks === true) {\n\t\t\tif (i === 0) {\n\t\t\t\treturn 'start';\n\t\t\t}\n\t\t\tif (i === tickVals.length - 1) {\n\t\t\t\treturn 'end';\n\t\t\t}\n\t\t}\n\t\treturn 'middle';\n\t}\n</script>\n\n<g class='axis x-axis' class:snapTicks>\n\t{#each tickVals as tick, i}\n\t\t<g class='tick tick-{tick}' transform='translate({$xScale(tick)},{$yRange[0]})'>\n\t\t\t{#if gridlines !== false}\n\t\t\t\t<line class=\"gridline\" class:dashed={tickDashed} y1='{$height * -1}' y2='0' x1='0' x2='0' style='stroke: {tickColor}'></line>\n\t\t\t{/if}\n\t\t\t{#if tickMarks === true}\n\t\t\t\t<line class=\"tick-mark\" y1='{0}' y2='{6}' x1='{xTick || isBandwidth ? $xScale.bandwidth() / 2 : 0}' x2='{xTick || isBandwidth ? $xScale.bandwidth() / 2 : 0}' style='stroke: {tickColor}'></line>\n\t\t\t{/if}\n\t\t\t<text\n\t\t\t\tx=\"{xTick || isBandwidth ? $xScale.bandwidth() / 2 : 0}\"\n\t\t\t\ty='{yTick}'\n\t\t\t\tdx='{dxTick}'\n\t\t\t\tdy='{dyTick}'\n\t\t\t\ttext-anchor='{textAnchor(i)}'\n\t\t\t\tstyle='fill: {textColor}'>\n\t\t\t\t\t{i == tickVals.length - 1 ? prefix + formatTick(tick) + suffix : formatTick(tick)}\n\t\t\t\t</text>\n\t\t</g>\n\t{/each}\n</g>\n\n<style>\n\t.tick {\n\t\tfont-size: .8em;\n\t}\n\n\t.tick .tick-mark,\n\t.tick.tick-0 line {\n\t\tstroke-dasharray: 0;\n\t}\n\n\t.dashed {\n\t\tstroke-dasharray: 2;\n\t}\n\t/* This looks slightly better */\n\t.axis.snapTicks .tick:last-child text {\n\t\ttransform: translateX(3px);\n\t}\n\t.axis.snapTicks .tick.tick-0 text {\n\t\ttransform: translateX(-3px);\n\t}\n</style>\n",
    "<script>\n\timport { getContext } from 'svelte';\n\n\tconst { padding, xRange, yScale } = getContext('LayerCake');\n\n\texport let ticks = 4;\n\texport let tickMarks = false;\n\texport let gridlines = true;\n\texport let tickDashed = false;\n\texport let tickColor = '#bbb';\n\texport let textColor = '#666';\n\texport let formatTick = d => d;\n\texport let xTick = 0;\n\texport let yTick = 0;\n\texport let dxTick = 0;\n\texport let dyTick = -4;\n\texport let textAnchor = 'start';\n\texport let prefix = '';\n\texport let suffix = '';\n\n\t$: isBandwidth = typeof $yScale.bandwidth === 'function';\n\n\t$: tickVals = Array.isArray(ticks) ? ticks :\n\t\tisBandwidth ?\n\t\t\t$yScale.domain() :\n\t\t\ttypeof ticks === 'function' ?\n\t\t\t\tticks($yScale.ticks()) :\n\t\t\t\t\t$yScale.ticks(ticks);\n</script>\n\n<g class='axis y-axis' transform='translate({-$padding.left}, 0)'>\n\t{#each tickVals as tick, i}\n\t\t<g class='tick tick-{tick}' transform='translate({$xRange[0] + (isBandwidth ? $padding.left : 0)}, {$yScale(tick)})'>\n\t\t\t{#if gridlines !== false}\n\t\t\t\t<line\n\t\t\t\t\tclass=\"gridline\"\n\t\t\t\t\tx2='100%'\n\t\t\t\t\ty1={yTick + (isBandwidth ? ($yScale.bandwidth() / 2) : 0)}\n\t\t\t\t\ty2={yTick + (isBandwidth ? ($yScale.bandwidth() / 2) : 0)}\n\t\t\t\t\tclass:dashed={tickDashed}\n\t\t\t\t\tstyle='stroke: {tickColor}'\n\t\t\t\t></line>\n\t\t\t{/if}\n\t\t\t{#if tickMarks === true}\n\t\t\t\t<line\n\t\t\t\t\tclass='tick-mark'\n\t\t\t\t\tx1='0'\n\t\t\t\t\tx2='{isBandwidth ? -6 : 6}'\n\t\t\t\t\ty1={yTick + (isBandwidth ? ($yScale.bandwidth() / 2) : 0)}\n\t\t\t\t\ty2={yTick + (isBandwidth ? ($yScale.bandwidth() / 2) : 0)}\n\t\t\t\t\tstyle='stroke: {tickColor}'\n\t\t\t\t></line>\n\t\t\t{/if}\n\t\t\t<text\n\t\t\t\tx='{xTick}'\n\t\t\t\ty='{yTick + (isBandwidth ? $yScale.bandwidth() / 2 : 0)}'\n\t\t\t\tdx='{isBandwidth ? -4 : dxTick}'\n\t\t\t\tdy='{isBandwidth ? 4 : dyTick}'\n\t\t\t\tstyle=\"text-anchor:{isBandwidth ? 'end' : textAnchor}; fill: {textColor}\">\n\t\t\t\t\t{i == tickVals.length - 1 ? prefix + formatTick(tick) + suffix : formatTick(tick)}\n\t\t\t\t</text>\n\t\t</g>\n\t{/each}\n</g>\n\n<style>\n\t.tick {\n\t\tfont-size: .8em;\n\t}\n\n\t.dashed {\n\t\tstroke-dasharray: 2;\n\t}\n\n\t.tick.tick-0 line {\n\t\tstroke-dasharray: 0;\n\t}\n</style>\n",
    "<div class=\"footer\"><slot/></div>\n\n<style>\n\t.footer {\n\t\tfont-size: .8em;\n\t\tcolor: grey;\n\t\tmargin-top: 5px;\n\t}\n</style>",
    "<script>\n\timport { getContext } from 'svelte';\n\n\tconst { data, xScale, yScale, custom } = getContext('LayerCake');\n\n\texport let hovered = null;\n\texport let selected = null;\n\t\n\tlet coords = $custom.coords;\n\tlet idKey = $custom.idKey;\n\tlet labelKey = $custom.labelKey;\n\t// let colorHover = $custom.colorHover ? $custom.colorHover : 'orange';\n\t// let colorSelect = $custom.colorSelect ? $custom.colorSelect : '#206095';\n</script>\n\n{#if $coords}\n<defs>\n\t<filter x=\"0\" y=\"0\" width=\"1\" height=\"1\" id=\"bgfill\">\n\t\t<feFlood flood-color=\"rgba(255,255,255,0.8)\" result=\"bg\" />\n\t\t<feMerge>\n\t\t\t<feMergeNode in=\"bg\"/>\n\t\t\t<feMergeNode in=\"SourceGraphic\"/>\n\t\t</feMerge>\n\t</filter>\n</defs>\n<g class=\"label-group\">\n\t{#if $coords[0] && $coords[0].x}\n\t{#each $coords as d, i}\n\t\t{#if [hovered, selected].includes($data[i][idKey])}\n\t\t<text\n\t\t\tclass=\"label\"\n\t\t\ttransform=\"translate(5,-5)\"\n\t\t\tfilter=\"url(#bgfill)\"\n\t\t\tfill=\"#333\"\n\t\t  x={$xScale(d.x)}\n\t\t\ty={$yScale(d.y)}>\n\t\t\t{$data[i][labelKey]}\n\t\t</text>\n\t\t{/if}\n\t{/each}\n\t{:else if $coords[0] && $coords[0][0] && $coords[0][0].x}\n\t{#each $coords as d, i}\n\t\t{#if [hovered, selected].includes($data[i][0][idKey])}\n\t\t<text\n\t\t\tclass=\"label\"\n\t\t\ttransform=\"translate(2,3)\"\n\t\t\tfilter=\"url(#bgfill)\"\n\t\t\tfill=\"#333\"\n\t\t  x={$xScale(d[d.length - 1].x)}\n\t\t\ty={$yScale(d[d.length - 1].y)}>\n\t\t\t{$data[i][0][labelKey]}\n\t\t</text>\n\t\t{/if}\n\t{/each}\n\t{/if}\n</g>\n{/if}\n\n<style>\n\t.label {\n\t\tfont-size: 0.8em;\n\t}\n</style>",
    "<script>\n  export let domain = null;\n  export let colors = null;\n  export let line = false; // true if line chart\n  export let comparison = false; // true if chart uses bars + markers for comparison\n  export let horizontal = true; // true if marker lines should be horizontal, false if vertical\n  export let markerWidth = 2.5;\n  export let markerLength = 13;\n  export let round = false; // to represent round markers\n</script>\n\n{#if Array.isArray(domain) && Array.isArray(colors)}\n  <ul class=\"legend\">\n    {#each domain as label, i}\n      <li>\n        <div\n          class=\"bullet\"\n          class:round\n          style=\"background-color: {colors[i]}; width: {!horizontal && (line || (comparison && i != 0)) ? markerWidth : markerLength}px; height: {horizontal && (line || (comparison && i != 0)) ? markerWidth : markerLength}px\"\n        />\n        {label}\n      </li>\n    {/each}\n  </ul>\n{/if}\n\n<style>\n  ul.legend {\n    margin: 0;\n    padding: 0;\n  }\n  ul.legend li {\n    display: inline;\n    font-size: .8em;\n  }\n  ul.legend li + li {\n    margin-left: 8px;\n  }\n  .bullet {\n\t\tdisplay: inline-block;\n    vertical-align: middle;\n\t}\n  .round {\n    border-radius: 50%;\n  }\n</style>",
    "<script>\n\timport { getContext, createEventDispatcher } from 'svelte';\n\n\tconst { data, xScale, yScale, zGet, config, custom } = getContext('LayerCake');\n\tconst dispatch = createEventDispatcher();\n\n\texport let lineWidth = 2.5;\n\texport let hover = false;\n\texport let hovered = null;\n\texport let select = false;\n\texport let selected = null;\n\texport let highlighted = [];\n\t\n\tlet coords = $custom.coords;\n\tlet idKey = $custom.idKey;\n\tlet colorHover = $custom.colorHover ? $custom.colorHover : 'orange';\n\tlet colorSelect = $custom.colorSelect ? $custom.colorSelect : '#206095';\n\tlet colorHighlight = $custom.colorHighlight ? $custom.colorHighlight : '#206095';\n\n\t// Function to make SVG path\n\tconst makePath = (group) => {\n\t\tlet path = 'M' + group\n\t\t.map(d => {\n\t\t\treturn $xScale(d.x) + ',' + $yScale(d.y);\n\t\t})\n\t\t.join('L');\n\t\treturn path;\n\t}\n\n\tfunction doHover(e, d) {\n\t\tif (hover) {\n\t\t\thovered = d ? d[0][idKey] : null;\n\t\t\tdispatch('hover', {\n\t\t\t\tid: hovered,\n\t\t\t\tdata: d,\n\t\t\t\tevent: e\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction doSelect(e, d) {\n\t\tif (select) {\n\t\t\tselected = d ? d[0][idKey] : null;\n\t\t\tdispatch('select', {\n\t\t\t\tid: selected,\n\t\t\t\tdata: d,\n\t\t\t\tevent: e\n\t\t\t});\n\t\t}\n\t}\n</script>\n\n{#if $coords}\n<g class=\"line-group\">\n\t{#each $coords as group, i}\n\t\t<path\n\t\t  class=\"path-hover\"\n\t\t\td=\"{makePath(group)}\"\n\t\t\ton:mouseover={e => doHover(e, $data[i])}\n\t\t\ton:mouseleave={e => doHover(e, null)}\n\t\t\ton:focus={e => doHover(e, $data[i])}\n\t\t\ton:blur={e => doHover(e, null)}\n\t\t\ton:click={e => doSelect(e, $data[i])}\n\t\t/>\n\t  <path\n\t\t  class=\"path-line\"\n\t\t\td=\"{makePath(group)}\"\n\t\t\tstroke=\"{\n\t\t\t\t$config.z ? $zGet($data[i][0]) : $config.zRange[0]}\"\n\t\t\tstroke-width=\"{\n\t\t\t\tlineWidth\n\t\t\t}\"\n\t\t/>\n\t{/each}\n\t\n\t{#if idKey && (hover || selected || highlighted[0])}\n\t{#each $coords as group, i}\n\t\t{#if [hovered, selected, ...highlighted].includes($data[i][0][idKey]) }\n\t  <path\n\t\t  class=\"path-overlay\"\n\t\t\td=\"{makePath(group)}\"\n\t\t\tstroke=\"{\n\t\t\t\t$data[i][0][idKey] == hovered ? colorHover :\n\t\t\t\t$data[i][0][idKey] == selected ? colorSelect :\n\t\t\t\tcolorHighlight\n\t\t\t}\"\n\t\t\tstroke-width=\"{\n\t\t\t\tlineWidth + 1.5\n\t\t\t}\"\n\t\t/>\n\t\t{/if}\n\t{/each}\n\t{/if}\n</g>\n{/if}\n\n<style>\n\tpath {\n\t\tfill: none;\n\t\tstroke-linejoin: round;\n\t\tstroke-linecap: round;\n\t}\n\t.path-hover {\n\t\tstroke: rgba(255,255,255,0);\n\t\tstroke-width: 7;\n\t}\n\t.path-line, .path-overlay {\n\t\tpointer-events: none;\n\t}\n</style>\n\n\n",
    "<div class=\"title\"><slot/></div>\n\n<style>\n\t.title {\n\t\tfont-size: 1.1em;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 10px;\n\t}\n</style>",
    "<script>\n\timport { Delaunay } from 'd3-delaunay';\n\timport { getContext, createEventDispatcher } from 'svelte';\n\n\tconst { data, width, height, custom, xScale, yScale } = getContext('LayerCake');\n\tconst dispatch = createEventDispatcher();\n\n\texport let hover = false;\n\texport let hovered = null;\n\texport let select = false;\n\texport let selected = null;\n\n\tlet coords = $custom.coords;\n\tlet idKey = $custom.idKey;\n\n\tfunction doHover(e, d) {\n\t\tif (hover) {\n\t\t\thovered = d ? d[idKey] : null;\n\t\t\tdispatch('hover', {\n\t\t\t\tid: hovered,\n\t\t\t\tdata: d,\n\t\t\t\tevent: e\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction doSelect(e, d) {\n\t\tif (select) {\n\t\t\tselected = d ? d[idKey] : null;\n\t\t\tdispatch('select', {\n\t\t\t\tid: selected,\n\t\t\t\tdata: d,\n\t\t\t\tevent: e\n\t\t\t});\n\t\t}\n\t}\n\n\t$: coordsArray = Array.isArray($coords) ? $coords.map(d => [$xScale(d.x), $yScale(d.y)]) : [];\n\t$: voronoi = Delaunay.from(coordsArray).voronoi([0, 0, $width, $height]);\n\n</script>\n\n<style>\n\t.voronoi-cell {\n\t\tfill: none;\n\t\tstroke: none;\n\t\tpointer-events: all;\n\t}\n</style>\n\n{#if voronoi}\n<g class=\"voronoi-group\">\n{#each $data as d, i}\n\t<path\n\t\tclass=\"voronoi-cell\"\n\t\td={voronoi.renderCell(i)}\n\t\ton:mouseover={e => doHover(e, $data[i])}\n\t\ton:mouseleave={e => doHover(e, null)}\n\t\ton:focus={e => doHover(e, $data[i])}\n\t\ton:blur={e => doHover(e, null)}\n\t\ton:click={e => doSelect(e, $data[i])}\n\t/>\n{/each}\n</g>\n{/if}\n",
    "<script>\n\timport { onMount, setContext } from \"svelte\";\n\timport mapbox from \"./lib/mapbox-gl@1.13.2\";\n\t// Mapbox source code is bundled due to versioning & ES6 import issues\n\t// https://cdn.skypack.dev/-/mapbox-gl@v1.13.2-asizChmwkQobquJNQjgb/dist=es2020,mode=imports,min/optimized/mapbox-gl.js\n\n\texport let map;\n\texport let id = \"map\";\n\texport let location = {\n\t\tlng: 15,\n\t\tlat: 45,\n\t\tzoom: 1\n\t};\n\texport let style = {\n\t\t\"version\": 8,\n\t\t\"sources\": {},\n\t\t\"layers\": []\n\t};\n\texport let minzoom = 0;\n\texport let maxzoom = 14;\n\texport let controls = false;\n\texport let locate = false;\n\texport let tabbable = false;\n\n\texport let zoom = null;\n\texport let center = null;\n\texport let interactive = true;\n\n\tlet container;\n\tlet w;\n\tlet h;\n\tlet options;\n\tlet loaded = false;\n\n\tsetContext(\"map\", {\n\t\tgetMap: () => map,\n\t});\n\t\n\t// Interpret location\n\tif (location.bounds) {\n\t\toptions = { bounds: location.bounds };\n\t} else if (typeof location.lng == 'number' && typeof location.lat == 'number') {\n\t\toptions = {\n\t\t\tcenter: [location.lng, location.lat],\n\t\t};\n\t\tif (typeof location.zoom == 'number') {\n\t\t\toptions.zoom = location.zoom;\n\t\t}\n\t}\n\n\tonMount(() => {\n\t\tconst link = document.createElement(\"link\");\n\t\tlink.rel = \"stylesheet\";\n\t\tlink.href = \"https://unpkg.com/mapbox-gl@1.13.2/dist/mapbox-gl.css\";\n\n\t\tlink.onload = () => {\n\t\t\tmap = new mapbox.Map({\n\t\t\t\tcontainer,\n\t\t\t\tstyle,\n\t\t\t\tminZoom: minzoom,\n\t\t\t\tmaxZoom: maxzoom,\n\t\t\t\tinteractive,\n\t\t\t\t...options,\n\t\t\t});\n\t\t\t\n\t\t\tif (controls) {\n\t\t\t\tmap.addControl(new mapbox.NavigationControl({showCompass: false}));\n\t\t\t}\n\t\t\t\n\t\t\tif (locate) {\n\t\t\t\tmap.addControl(new mapbox.GeolocateControl());\n\t\t\t}\n\t\t\t\n\t\t\t// Get initial zoom level\n\t\t\tmap.on(\"load\", () => {\n\t\t\t\tzoom = map.getZoom();\n\t\t\t\tcenter = map.getCenter();\n\t\t\t\tloaded = true;\n\t\t\t\t\n\t\t\t\t// Prevent map from being tabbable\n\t\t\t\tif (!tabbable && document.querySelector(`#${id} canvas`)) {\n\t\t\t\t\tdocument.querySelector(`#${id} canvas`).tabIndex = \"-1\";\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Update zoom level and center when the view changes\n\t\t\tmap.on(\"moveend\", () => {\n\t\t\t\tzoom = map.getZoom();\n\t\t\t\tcenter = map.getCenter();\n\t\t\t});\n\t\t};\n\n\t\tdocument.head.appendChild(link);\n\n\t\treturn () => {\n\t\t\tmap.remove();\n\t\t\tlink.parentNode.removeChild(link);\n\t\t};\n\t});\n\n\t// Function that forces map to resize to fit parent div, in case it doesn't automatically\n\tfunction resizeCanvas() {\n\t\tif (loaded) {\n\t\t\tlet canvas = document.getElementsByClassName(\"mapboxgl-canvas\");\n\t\t  if (canvas[0]) {\n\t\t\t  canvas[0].style.width = \"100%\";\n\t\t\t  canvas[0].style.height = \"100%\";\n\t\t\t  map.resize();\n\t\t  }\n\t\t}\n\t}\n\n\t// Invoke above function when parent div size changes\n\t$: (w || h) && resizeCanvas();\n</script>\n\n<div bind:clientWidth={w} bind:clientHeight={h} bind:this={container} {id}>\n\t{#if loaded}\n\t\t<slot />\n\t{/if}\n</div>\n\n<style>\n\t:global(.mapboxgl-control-container button) {\n\t\tmargin: 0;\n\t}\n\tdiv {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n</style>",
    "<script>\n  import { getContext } from 'svelte';\n  import mapbox from './lib/mapbox-gl@1.13.2';\n\t// Mapbox source code is bundled due to versioning & ES6 import issues\n\t// https://cdn.skypack.dev/-/mapbox-gl@v1.13.2-asizChmwkQobquJNQjgb/dist=es2020,mode=imports,min/optimized/mapbox-gl.js\n\n  export let content;\n\n  const tooltip = new mapbox.Popup({\n\t\tcloseButton: false,\n\t\tcloseOnClick: false\n\t});\n\n  const { getMap } = getContext('map');\n\tconst map = getMap();\n  const hoverObj = getContext('hover');\n\n  function updateTooltip(obj, content) {\n    if (obj.id) {\n      tooltip\n\t\t\t.setLngLat(obj.event.lngLat)\n      .setHTML(content ? content : obj.code)\n      .addTo(map);\n    } else {\n      tooltip.remove();\n    }\n  }\n\n  $: updateTooltip($hoverObj, content);\n</script>\n\n<style>\n  :global(.mapboxgl-popup-content) {\n\t\tpadding: 5px 10px !important;\n\t}\n</style>",
    "<script>\n\timport { setContext } from 'svelte';\n\timport { writable, derived } from 'svelte/store';\n\n\timport makeAccessor from './utils/makeAccessor.js';\n\timport filterObject from './utils/filterObject.js';\n\timport calcExtents from './lib/calcExtents.js';\n\timport calcDomain from './helpers/calcDomain.js';\n\timport createScale from './helpers/createScale.js';\n\timport createGetter from './helpers/createGetter.js';\n\timport getRange from './helpers/getRange.js';\n\timport defaultScales from './settings/defaultScales.js';\n\timport defaultReverses from './settings/defaultReverses.js';\n\n\texport let ssr = false;\n\texport let pointerEvents = true;\n\texport let position = 'relative';\n\texport let percentRange = false;\n\n\texport let width = undefined;\n\texport let height = undefined;\n\n\texport let containerWidth = width || 100;\n\texport let containerHeight = height || 100;\n\n\t/* --------------------------------------------\n\t * Parameters\n\t * Values that computed properties are based on and that\n\t * can be easily extended from config values\n\t *\n\t */\n\texport let x = undefined;\n\texport let y = undefined;\n\texport let z = undefined;\n\texport let r = undefined;\n\texport let custom = {};\n\texport let data = [];\n\texport let xDomain = undefined;\n\texport let yDomain = undefined;\n\texport let zDomain = undefined;\n\texport let rDomain = undefined;\n\texport let xNice = false;\n\texport let yNice = false;\n\texport let zNice = false;\n\texport let rNice = false;\n\texport let xReverse = defaultReverses.x;\n\texport let yReverse = defaultReverses.y;\n\texport let zReverse = defaultReverses.z;\n\texport let rReverse = defaultReverses.r;\n\texport let xPadding = undefined;\n\texport let yPadding = undefined;\n\texport let zPadding = undefined;\n\texport let rPadding = undefined;\n\texport let xScale = defaultScales.x;\n\texport let yScale = defaultScales.y;\n\texport let zScale = defaultScales.y;\n\texport let rScale = defaultScales.r;\n\texport let xRange = undefined;\n\texport let yRange = undefined;\n\texport let zRange = undefined;\n\texport let rRange = undefined;\n\texport let padding = {};\n\texport let extents = {};\n\texport let flatData = undefined;\n\n\t/* --------------------------------------------\n\t * Preserve a copy of our passed in settings before we modify them\n\t * Return this to the user's context so they can reference things if need be\n\t * Add the active keys since those aren't on our settings object.\n\t * This is mostly an escape-hatch\n\t */\n\tconst config = {};\n\t$: if (x) config.x = x;\n\t$: if (y) config.y = y;\n\t$: if (z) config.z = z;\n\t$: if (r) config.r = r;\n\t$: if (xDomain) config.xDomain = xDomain;\n\t$: if (yDomain) config.yDomain = yDomain;\n\t$: if (zDomain) config.zDomain = zDomain;\n\t$: if (rDomain) config.rDomain = rDomain;\n\t$: if (xRange) config.xRange = xRange;\n\t$: if (yRange) config.yRange = yRange;\n\t$: if (zRange) config.zRange = zRange;\n\t$: if (rRange) config.rRange = rRange;\n\n\t/* --------------------------------------------\n\t * Make store versions of each parameter\n\t * Prefix these with `_` to keep things organized\n\t */\n\tconst _percentRange = writable();\n\tconst _containerWidth = writable();\n\tconst _containerHeight = writable();\n\tconst _x = writable();\n\tconst _y = writable();\n\tconst _z = writable();\n\tconst _r = writable();\n\tconst _custom = writable();\n\tconst _data = writable();\n\tconst _xDomain = writable();\n\tconst _yDomain = writable();\n\tconst _zDomain = writable();\n\tconst _rDomain = writable();\n\tconst _xNice = writable();\n\tconst _yNice = writable();\n\tconst _zNice = writable();\n\tconst _rNice = writable();\n\tconst _xReverse = writable();\n\tconst _yReverse = writable();\n\tconst _zReverse = writable();\n\tconst _rReverse = writable();\n\tconst _xPadding = writable();\n\tconst _yPadding = writable();\n\tconst _zPadding = writable();\n\tconst _rPadding = writable();\n\tconst _xScale = writable();\n\tconst _yScale = writable();\n\tconst _zScale = writable();\n\tconst _rScale = writable();\n\tconst _xRange = writable();\n\tconst _yRange = writable();\n\tconst _zRange = writable();\n\tconst _rRange = writable();\n\tconst _padding = writable();\n\tconst _flatData = writable();\n\tconst _extents = writable();\n\tconst _config = writable(config);\n\n\t$: _percentRange.set(percentRange);\n\t$: _containerWidth.set(containerWidth);\n\t$: _containerHeight.set(containerHeight);\n\t$: _x.set(makeAccessor(x));\n\t$: _y.set(makeAccessor(y));\n\t$: _z.set(makeAccessor(z));\n\t$: _r.set(makeAccessor(r));\n\t$: _xDomain.set(xDomain);\n\t$: _yDomain.set(yDomain);\n\t$: _zDomain.set(zDomain);\n\t$: _rDomain.set(rDomain);\n\t$: _custom.set(custom);\n\t$: _data.set(data);\n\t$: _xNice.set(xNice);\n\t$: _yNice.set(yNice);\n\t$: _zNice.set(zNice);\n\t$: _rNice.set(rNice);\n\t$: _xReverse.set(xReverse);\n\t$: _yReverse.set(yReverse);\n\t$: _zReverse.set(zReverse);\n\t$: _rReverse.set(rReverse);\n\t$: _xPadding.set(xPadding);\n\t$: _yPadding.set(yPadding);\n\t$: _zPadding.set(zPadding);\n\t$: _rPadding.set(rPadding);\n\t$: _xScale.set(xScale);\n\t$: _yScale.set(yScale);\n\t$: _zScale.set(zScale);\n\t$: _rScale.set(rScale);\n\t$: _xRange.set(xRange);\n\t$: _yRange.set(yRange);\n\t$: _zRange.set(zRange);\n\t$: _rRange.set(rRange);\n\t$: _padding.set(padding);\n\t$: _extents.set(filterObject(extents));\n\t$: _flatData.set(flatData || data);\n\n\t/* --------------------------------------------\n\t * Create derived values\n\t * Suffix these with `_d`\n\t */\n\tconst activeGetters_d = derived([_x, _y, _z, _r], ([$x, $y, $z, $r]) => {\n\t\treturn [\n\t\t\t{ field: 'x', accessor: $x },\n\t\t\t{ field: 'y', accessor: $y },\n\t\t\t{ field: 'z', accessor: $z },\n\t\t\t{ field: 'r', accessor: $r }\n\t\t].filter(d => d.accessor);\n\t});\n\n\tconst padding_d = derived([_padding, _containerWidth, _containerHeight], ([$padding]) => {\n\t\tconst defaultPadding = { top: 0, right: 0, bottom: 0, left: 0 };\n\t\treturn Object.assign(defaultPadding, $padding);\n\t});\n\n\tconst box_d = derived([_containerWidth, _containerHeight, padding_d], ([$containerWidth, $containerHeight, $padding]) => {\n\t\tconst b = {};\n\t\tb.top = $padding.top;\n\t\tb.right = $containerWidth - $padding.right;\n\t\tb.bottom = $containerHeight - $padding.bottom;\n\t\tb.left = $padding.left;\n\t\tb.width = b.right - b.left;\n\t\tb.height = b.bottom - b.top;\n\t\tif (b.width < 0 && b.height < 0) {\n\t\t\tconsole.error('[LayerCake] Target div has negative width and height. Did you forget to set a width or height on the container?');\n\t\t} else if (b.width < 0) {\n\t\t\tconsole.error('[LayerCake] Target div has a negative width. Did you forget to set that CSS on the container?');\n\t\t} else if (b.height < 0) {\n\t\t\tconsole.error('[LayerCake] Target div has negative height. Did you forget to set that CSS on the container?');\n\t\t}\n\t\treturn b;\n\t});\n\n\tconst width_d = derived([box_d], ([$box]) => {\n\t\treturn $box.width;\n\t});\n\n\tconst height_d = derived([box_d], ([$box]) => {\n\t\treturn $box.height;\n\t});\n\n\t/* --------------------------------------------\n\t * Calculate extents by taking the extent of the data\n\t * and filling that in with anything set by the user\n\t */\n\tconst extents_d = derived([_flatData, activeGetters_d, _extents], ([$flatData, $activeGetters, $extents]) => {\n\t\treturn { ...calcExtents($flatData, $activeGetters.filter(d => !$extents[d.field])), ...$extents };\n\t});\n\n\tconst xDomain_d = derived([extents_d, _xDomain], calcDomain('x'));\n\tconst yDomain_d = derived([extents_d, _yDomain], calcDomain('y'));\n\tconst zDomain_d = derived([extents_d, _zDomain], calcDomain('z'));\n\tconst rDomain_d = derived([extents_d, _rDomain], calcDomain('r'));\n\n\tconst xScale_d = derived([_xScale, extents_d, xDomain_d, _xPadding, _xNice, _xReverse, width_d, height_d, _xRange, _percentRange], createScale('x'));\n\tconst xGet_d = derived([_x, xScale_d], createGetter);\n\n\tconst yScale_d = derived([_yScale, extents_d, yDomain_d, _yPadding, _yNice, _yReverse, width_d, height_d, _yRange, _percentRange], createScale('y'));\n\tconst yGet_d = derived([_y, yScale_d], createGetter);\n\n\tconst zScale_d = derived([_zScale, extents_d, zDomain_d, _zPadding, _zNice, _zReverse, width_d, height_d, _zRange, _percentRange], createScale('z'));\n\tconst zGet_d = derived([_z, zScale_d], createGetter);\n\n\tconst rScale_d = derived([_rScale, extents_d, rDomain_d, _rPadding, _rNice, _rReverse, width_d, height_d, _rRange, _percentRange], createScale('r'));\n\tconst rGet_d = derived([_r, rScale_d], createGetter);\n\n\tconst xRange_d = derived([xScale_d], getRange);\n\tconst yRange_d = derived([yScale_d], getRange);\n\tconst zRange_d = derived([zScale_d], getRange);\n\tconst rRange_d = derived([rScale_d], getRange);\n\n\tconst aspectRatio_d = derived([width_d, height_d], ([$aspectRatio, $width, $height]) => {\n\t\treturn $width / $height;\n\t});\n\n\t$: context = {\n\t\tactiveGetters: activeGetters_d,\n\t\twidth: width_d,\n\t\theight: height_d,\n\t\tpercentRange: _percentRange,\n\t\taspectRatio: aspectRatio_d,\n\t\tcontainerWidth: _containerWidth,\n\t\tcontainerHeight: _containerHeight,\n\t\tx: _x,\n\t\ty: _y,\n\t\tz: _z,\n\t\tr: _r,\n\t\tcustom: _custom,\n\t\tdata: _data,\n\t\txNice: _xNice,\n\t\tyNice: _yNice,\n\t\tzNice: _zNice,\n\t\trNice: _rNice,\n\t\txReverse: _xReverse,\n\t\tyReverse: _yReverse,\n\t\tzReverse: _zReverse,\n\t\trReverse: _rReverse,\n\t\txPadding: _xPadding,\n\t\tyPadding: _yPadding,\n\t\tzPadding: _zPadding,\n\t\trPadding: _rPadding,\n\t\tpadding: padding_d,\n\t\tflatData: _flatData,\n\t\textents: extents_d,\n\t\txDomain: xDomain_d,\n\t\tyDomain: yDomain_d,\n\t\tzDomain: zDomain_d,\n\t\trDomain: rDomain_d,\n\t\txRange: xRange_d,\n\t\tyRange: yRange_d,\n\t\tzRange: zRange_d,\n\t\trRange: rRange_d,\n\t\tconfig: _config,\n\t\txScale: xScale_d,\n\t\txGet: xGet_d,\n\t\tyScale: yScale_d,\n\t\tyGet: yGet_d,\n\t\tzScale: zScale_d,\n\t\tzGet: zGet_d,\n\t\trScale: rScale_d,\n\t\trGet: rGet_d\n\t};\n\n\t$: setContext('LayerCake', context);\n</script>\n\n{#if (ssr === true || typeof window !== 'undefined')}\n\t<div\n\t\tclass=\"layercake-container\"\n\t\tstyle=\"\n\t\t\tposition:{position};\n\t\t\t{position === 'absolute' ? 'top:0;right:0;bottom:0;left:0;' : ''}\n\t\t\t{pointerEvents === false ? 'pointer-events:none;' : ''}\n\t\t\"\n\t\tbind:clientWidth={containerWidth}\n\t\tbind:clientHeight={containerHeight}\n\t>\n\t\t<slot\n\t\t\twidth={$width_d}\n\t\t\theight={$height_d}\n\t\t\taspectRatio={$aspectRatio_d}\n\t\t\tcontainerWidth={$_containerWidth}\n\t\t\tcontainerHeight={$_containerHeight}\n\t\t></slot>\n\t</div>\n{/if}\n\n<style>\n\t.layercake-container,\n\t.layercake-container :global(*) {\n\t\tbox-sizing: border-box;\n\t}\n\t.layercake-container {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n</style>\n",
    "<script>\n\timport { getContext } from 'svelte';\n\n\texport let zIndex = undefined;\n\texport let pointerEvents = undefined;\n\n\tlet zIndexStyle = '';\n\t$: zIndexStyle = typeof zIndex !== 'undefined' ? `z-index:${zIndex};` : '';\n\n\tlet pointerEventsStyle = '';\n\t$: pointerEventsStyle = pointerEvents === false ? 'pointer-events:none;' : '';\n\n\tconst { padding } = getContext('LayerCake');\n</script>\n\n<div\n\tclass=\"layercake-layout-html\"\n\tstyle=\"top: {$padding.top}px; right:{$padding.right}px; bottom:{$padding.bottom}px; left:{$padding.left}px;{zIndexStyle}{pointerEventsStyle}\"\n>\n\t<slot></slot>\n</div>\n\n<style>\n\tdiv,\n\tslot {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n</style>\n",
    "<script>\n\timport { getContext } from 'svelte';\n\n\texport let fixedAspectRatio = 1;\n\texport let viewBox = `0 0 100 ${100 / fixedAspectRatio}`;\n\texport let zIndex = undefined;\n\texport let pointerEvents = undefined;\n\n\tlet zIndexStyle = '';\n\t$: zIndexStyle = typeof zIndex !== 'undefined' ? `z-index:${zIndex};` : '';\n\n\tlet pointerEventsStyle = '';\n\t$: pointerEventsStyle = pointerEvents === false ? 'pointer-events:none;' : '';\n\n\tconst { padding } = getContext('LayerCake');\n</script>\n\n<svg\n\t{viewBox}\n\tpreserveAspectRatio=\"none\"\n\tstyle=\"top: {$padding.top}px; right:0px; bottom:0px; left:{$padding.left}px;width:calc(100% - {($padding.left + $padding.right)}px);height:calc(100% - {($padding.top + $padding.bottom)}px);{zIndexStyle}{pointerEventsStyle}\"\n>\n\t<defs>\n\t\t<slot name=\"defs\"></slot>\n\t</defs>\n\n\t<slot></slot>\n</svg>\n\n<style>\n\tsvg {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: visible;\n\t}\n\tsvg :global(*) {\n\t\tvector-effect: non-scaling-stroke;\n\t}\n</style>\n",
    "<script>\n\timport { getContext } from 'svelte';\n\n\texport let viewBox = undefined;\n\texport let zIndex = undefined;\n\texport let pointerEvents = undefined;\n\n\tlet zIndexStyle = '';\n\t$: zIndexStyle = typeof zIndex !== 'undefined' ? `z-index:${zIndex};` : '';\n\n\tlet pointerEventsStyle = '';\n\t$: pointerEventsStyle = pointerEvents === false ? 'pointer-events:none;' : '';\n\n\tconst { containerWidth, containerHeight, padding } = getContext('LayerCake');\n</script>\n<svg\n\tclass=\"layercake-layout-svg\"\n\t{viewBox}\n\twidth={$containerWidth}\n\theight={$containerHeight}\n\tstyle=\"{zIndexStyle}{pointerEventsStyle}\"\n>\n\t<defs>\n\t\t<slot name=\"defs\"></slot>\n\t</defs>\n\t<g transform=\"translate({$padding.left}, {$padding.top})\">\n\t\t<slot></slot>\n\t</g>\n</svg>\n\n<style>\n\tsvg {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\toverflow: visible;\n\t}\n</style>\n",
    "<script>\r\n  // CORE IMPORTS\r\n  import { setContext, onMount } from \"svelte\";\r\n  import axios from 'axios';  // Ajout du module axios\r\n  import { getMotion } from \"./utils.js\";\r\n  import { themes } from \"./config.js\";\r\n  import ONSHeader from \"./layout/ONSHeader.svelte\";\r\n  import ONSFooter from \"./layout/ONSFooter.svelte\";\r\n  import Header from \"./layout/Header.svelte\";\r\n  import Section from \"./layout/Section.svelte\";\r\n  import Media from \"./layout/Media.svelte\";\r\n  import Scroller from \"./layout/Scroller.svelte\";\r\n  import Filler from \"./layout/Filler.svelte\";\r\n  import Divider from \"./layout/Divider.svelte\";\r\n  import Toggle from \"./ui/Toggle.svelte\";\r\n  import Arrow from \"./ui/Arrow.svelte\";\r\n  import Arrow2 from \"./ui/Arrow2.svelte\";\r\n  import Em from \"./ui/Em.svelte\";\r\n  import * as d3 from \"d3\"\r\n  import { feature } from 'topojson-client';\r\n  import Legende from './layout/Legende.svelte';\r\n\r\n  // DEMO-SPECIFIC IMPORTS\r\n  import bbox from \"@turf/bbox\";\r\n  import { getData, setColors, getTopo, getBreaks, getColor } from \"./utils.js\";\r\n  import { colors, units } from \"./config.js\";\r\n  import { ScatterChart, LineChart, BarChart } from \"@onsvisual/svelte-charts\";\r\n  import { Map, MapSource, MapLayer, MapTooltip } from \"@onsvisual/svelte-maps\";\r\n    import { each } from \"svelte/internal\";\r\n\r\n  let theme = \"light\";\r\n  setContext(\"theme\", theme);\r\n  setColors(colors, theme);\r\n\r\n  let data = {};\r\n  let metadata = {};\r\n  let metadataLoaded = false;\r\n  let geojson;\r\n  let map = null;\r\n  let mapKey = \"density\";\r\n  let selected; \r\n  let animation = getMotion();\r\n  let hovered;\r\n  let mapHighlighted = [];\r\n  let isMapLoaded = false;\r\n\r\n  const threshold = 0.65;\r\n\r\n  let id = {}; // Object to hold visible section IDs of Scroller components\r\n\tlet idPrev = {}; // Object to keep track of previous IDs, to compare for changes\r\n\tonMount(() => {\r\n\t\tidPrev = {...id};\r\n\t});\r\n\r\n  let housePriceData = [];\r\n  let incomeData = [];\r\n  let ratioData = [];\r\n\r\n  const topojson = \"./data/communes-belges0 copy.json\";\r\n\r\n  const mapstyle = \"https://api.maptiler.com/maps/7a398d58-c7b0-4b18-86df-50b59985bef1/style.json?key=KxWuaRoNgdIOk76i21Fs\";\r\n  const mapbounds = {\r\n    belgium: [\r\n      [2.5, 49.5], // coin inférieur gauche : longitude, latitude\r\n      [6.4, 51.5]  // coin supérieur droit : longitude, latitude\r\n    ]\r\n  };\r\n\r\n  let initialCenter = [4.5, 50.5]; // Remplacer par les coordonnées du centre initial de votre carte\r\n  let initialZoom = 7; // Remplacer par le niveau de zoom initial de votre carte\r\n\r\n  // Sélecteur d'âge\r\n  let ageRanges = [\"Moins de 24 ans\", \"De 25 à 29 ans\", \"De 30 à 34 ans\", \"De 35 à 39 ans\", \"De 40 à 44 ans\", \"De 45 à 49 ans\", \"De 50 à 54 ans\",\"De 55 à 59 ans\",\"De 60 à 64 ans\",\"De 65 à 69 ans\",\"De 70 à 74 ans\",\"De 75 à 79 ans\",\"De 80 à 84 ans\",\"85 ans et plus\"];\r\n  let selectedAgeIndex = ageRanges.indexOf(\"De 50 à 54 ans\");\r\n  let selectedAgeRange = \"De 50 à 54 ans\"; \r\n  let ageIncomeData = [];\r\n\r\n  // Define color scale\r\n  let colorScale;\r\n\r\n  function doSelect(e) {\r\n    console.log(e);\r\n    selected = e.detail.id;\r\n    if (e.detail.feature) fitById(selected);\r\n  }\r\n\r\n  function doHover(e) {\r\n    hovered = e.detail.id;\r\n    let tooltipContent = '';\r\n    if (hovered && metadata.lookup[hovered]) {\r\n      tooltipContent = `${metadata.lookup[hovered].name} \r\n      - Prix médian pour un appartement: ${metadata.lookup[hovered].ageData[\"prix médian pour un appartement\"]} \r\n      - Prix médian pour une maison: ${metadata.lookup[hovered].ageData[\"prix médian pour une maison\"]}`\r\n    }\r\n  }\r\n\r\n\r\n  function handleDblClick(e) {\r\n    map.flyTo({center: e.lngLat, zoom: map.getZoom() - 1});\r\n  }\r\n\r\n  function resetView() {\r\n    map.flyTo({center: initialCenter, zoom: initialZoom});\r\n  }\r\n\r\n  function fitBounds(bounds) {\r\n    if (map) {\r\n      map.fitBounds(bounds, {animate: animation, padding: 30});\r\n    }\r\n  }\r\n\r\n  function fitById(id) {\r\n    if (geojson && id) {\r\n      let feature = geojson.features.find(d => d.properties.ID_4 == id);\r\n      if (feature) {\r\n        let bounds = bbox(feature.geometry);\r\n        fitBounds(bounds);\r\n      }\r\n    }\r\n  }\r\n\r\n  function zoomToCoordinates(coordinates, zoomLevel) {\r\n      if (map) {\r\n          map.flyTo({ center: coordinates, zoom: zoomLevel });\r\n      }\r\n  }\r\n\r\n  const actions = {\r\n\t\tmap: { // Actions for <Scroller/> with id=\"map\"\r\n\t\t\tmap01: () => { // Action for <section/> with data-id=\"map01\"\r\n      resetView();\r\n\t\t\t},\r\n\t\t\tmap02: () => {\r\n      // Remplacez [longitude, latitude] par les coordonnées exactes de votre commune\r\n      zoomToCoordinates([4.485, 50.730], 8);\r\n\r\n      },\r\n\r\n      map03: () => {\r\n            selectedAgeIndex = ageRanges.indexOf(\"De 25 à 29 ans\");\r\n            resetView();\r\n            handleAgeSelect();\r\n             // Ceci mettra à jour les couleurs et les données liées à la tranche d'âge\r\n        },\r\n      map04: () => {\r\n          resetView();\r\n          fitById(365);\r\n          handleAgeSelect();\r\n            // Ceci mettra à jour les couleurs et les données liées à la tranche d'âge\r\n      }\r\n    }\r\n\t};\r\n\r\n  \t// Code to run Scroller actions when new caption IDs come into view\r\n\tfunction runActions(codes = []) {\r\n\t\tcodes.forEach(code => {\r\n\t\t\tif (id[code] != idPrev[code]) {\r\n\t\t\t\tif (actions[code][id[code]]) {\r\n\t\t\t\t\tactions[code][id[code]]();\r\n\t\t\t\t}\r\n\t\t\t\tidPrev[code] = id[code];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t$: id && runActions(Object.keys(actions)); // Run above code when 'id' object changes\r\n\r\n  function handleZoomOut() {\r\n    map.flyTo({center: map.getCenter(), zoom: map.getZoom() - 1});\r\n  }\r\n    \r\n\r\n  function loadSourceAndThen(callback) {\r\n      if (map.getSource('commune')) {\r\n          callback();\r\n      } else {\r\n          map.once('sourcedata', () => {\r\n              if (map.isSourceLoaded('commune')) {\r\n                  callback();\r\n              } else {\r\n                  loadSourceAndThen(callback);\r\n              }\r\n          });\r\n      }\r\n  }\r\n\r\n  function updateColors() {\r\n      if (map && metadata) {\r\n          loadSourceAndThen(() => {\r\n              metadata.array.forEach(feature => {\r\n                  if (feature.ageData[selectedAgeRange]) {\r\n                      let value = Number(feature.ageData[selectedAgeRange]);\r\n                      let colorValue = colorScale(value);\r\n                      map.setFeatureState({source: 'commune', id: feature.code}, { color: colorValue });\r\n                  }\r\n              });\r\n          });\r\n      }\r\n  }\r\n\r\n  function handleAgeSelect() {\r\n    selectedAgeRange = ageRanges[selectedAgeIndex];\r\n    updateColors();\r\n\r\n    // Trouver les revenus associés à la tranche d'âge sélectionnée\r\n    const selectedIncome = ageIncomeData.find(d => d.age === selectedAgeRange);\r\n    \r\n    if (selectedIncome) {\r\n      // Mettre à jour l'affichage (ou faire tout autre traitement nécessaire)\r\n      console.log(`Revenus par an pour ${selectedAgeRange}: ${selectedIncome.annualIncome}`);\r\n    }\r\n  }\r\n\r\n\r\n  function transformAgeRangeFormat(ageRange) {\r\n    if (ageRange.startsWith(\"De\")) {\r\n      return \"entre\" + ageRange.slice(2).replace(\"à\", \"et\");\r\n    } else if (ageRange.startsWith(\"Moins\")) {\r\n      return ageRange.charAt(0).toLowerCase() + ageRange.slice(1);\r\n    } else if (ageRange === \"85 ans et plus\") {\r\n      return \"plus de 85 ans\";\r\n    }\r\n    return ageRange;\r\n  }\r\n\r\n\r\n\r\n\r\n  let ageRangesForSentences = ageRanges.map(transformAgeRangeFormat);\r\n\r\n  function exampleFunction() {\r\n    console.log(`J'ai choisi la tranche ${ageRangesForSentences[selectedAgeIndex]}.`);\r\n  }\r\n\r\n\r\n\r\n  onMount(async () => {\r\n    // Fetch all necessary data\r\n    let geo = await getTopo(topojson, 'Communes');\r\n\r\n    geojson = geo; \r\n    geo.features.sort((a, b) => a.properties.NAME_4.localeCompare(b.properties.NAME_4));\r\n\r\n    // Collect age data\r\n    let ageData = geo.features.map(d => {\r\n      let ageProps = {};\r\n\r\n      // Loop through all properties of the feature\r\n      for (let propName in d.properties) {\r\n        // If the property starts with \"De\", \"Moins\", or \"85 ans et plus\", then it's an age range\r\n        // Also add \"prix médian pour une maison\" and \"prix médian pour un appartement\" properties\r\n        if (propName.startsWith(\"De\") || propName.startsWith(\"Moins\") || propName.startsWith(\"85 ans et plus\") || propName === \"prix médian pour une maison\" || propName === \"prix médian pour un appartement\") {\r\n          // Add the data to the ageProps object\r\n          ageProps[propName] = d.properties[propName];\r\n        }\r\n      }\r\n\r\n      return {\r\n        code: d.properties.ID_4,\r\n        name: d.properties.NAME_4,\r\n        parent: d.properties.ID_3 ? d.properties.ID_3 : null,\r\n        ageData: ageProps // Add the age data here\r\n      };\r\n    });\r\n\r\n    const incomeResponse = await axios.get('/data/Revenus moyens par age.csv');\r\n    const csvData = d3.csvParse(incomeResponse.data);\r\n    \r\n    ageIncomeData = csvData.map(row => {\r\n      return {\r\n        age: row['âge'],\r\n        annualIncome: parseFloat(row['revenus par an'].replace(/,/g, '.')),\r\n        monthlyIncome: parseFloat(row['revenus par mois'].replace(/,/g, '.').replace(/ /g, '')),\r\n        loanLowEnd: parseFloat(row['emprunt sur trente ans (bas)'].replace(/ /g, '').replace(/€/g, '').replace(/,/g, '.').trim()),\r\n        loanHighEnd: parseFloat(row['emprunt sur trente ans (haut)'].replace(/ /g, '').replace(/€/g, '').replace(/,/g, '.').trim())\r\n      };\r\n    });\r\n\r\n\r\n    let lookup = {};\r\n    ageData.forEach(d => {\r\n      lookup[d.code] = d;\r\n    });\r\n    metadata.array = ageData;\r\n    metadata.lookup = lookup;\r\n\r\n    // Define color scale\r\n    let colorThresholds = [0.05,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9, 1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,2, 3];\r\n    let colorRange =['#fef8f8', '#fad7e5', '#f1b6d3', '#e597c1', '#d479b0', '#c05ca1', '#a84192', '#8d2783', '#6e1076', '#49006a','#49006a', '#4e267b', '#543f8b', '#5b569a', '#636ca9', '#6d82b7', '#7997c5', '#88add2', '#98c3de', '#abd9e9']\r\n\r\n    colorScale = d3.scaleThreshold()\r\n      .domain(colorThresholds)\r\n      .range(colorRange); \r\n\r\n  });\r\n\r\n  handleAgeSelect();\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<ONSHeader filled={true} center={false} />\r\n\r\n<Header bgimage=\"./img/Projet.jpg\" bgfixed={true} theme=\"light\" short={true} center={false}>\r\n  <h1><Em color=\"white\" >Les jeunes et l’immobilier :<br /> quand le rêve tourne au mirage</Em></h1>\r\n  <p class=\"text-big\" style=\"margin-top: 25px\">\r\n    <Em color=\"white\" >Face à un marché de plus en plus austère,<br />\r\n      la jeunesse voit son rêve de propriété  s'effriter<br />\r\n     et un écart se creuser entre les générations.\r\n    </Em>\r\n  </p>\r\n  <p style=\"margin-top: 20px\">\r\n   <Em color= \"white\"> 16/08/2023</Em>\r\n  </p>\r\n  <p>\r\n    <Em color= \"white\"><Toggle label=\"Animation {animation ? 'on' : 'off'}\" mono={true} bind:checked={animation} /></Em>\r\n  </p>\r\n  <div style=\"text-align: center;\">\r\n    <Arrow color=\"white\" {animation} />\r\n  </div>\r\n</Header>\r\n\r\n<Divider></Divider>\r\n\r\n<Section theme=\"light\">\r\n  <p class=\"mb\">\r\n    Devenir propriétaire de son logement : certains jeunes en rêvent, les autres ne se font plus d’illusion.  Et ce n’est pas le nouveau baromètre de la Fédération du Notariat (Fednot) qui devrait les rassurer. En 2023 <Em color=\"black\">les acheteurs de moins de 30 ans</Em> ne représentaient que 27% des transactions, contre 30% en 2018. Selon la Banque nationale de Belgique (BNB), l'âge moyen de l'achat d’un premier logement est lui en constante augmentation depuis plusieurs années. Il est passé de 30 à 36 ans depuis la fin des années 1990. \r\n  </p>  \r\n  <p class=\"mb\">\r\n    La baisse du nombre d'acheteurs jeunes et la hausse de l'âge du premier achat touchent toutes les régions et illustrent la réalité du marché immobilier belge, celle d’un accès à la propriété qui se déteriore pour les moins de 30 ans. \r\n  </p>\r\n  <p class=\"mb\">\r\n    Aujourd'hui plus qu'hier, l'accès au marché immobilier connait, en plus des inégalités sociales, l'importance grandissante des inégalités intergénérationelles. Car on ne choisit pas plus sa famille que la période économique qui nous accueille.\r\n  </p>\r\n\r\n  <p class=\"mb\">  \r\n    Pour observer cette disparité et comprendre son évolution, nous allons devoir mesurer cette accessibilité au logement. L'approche classique, utilisée notamment par la Banque nationale de Belgique (BNB), consiste à comparer l’évolution des revenus des ménages à celle des prix des logements.\r\n  </p>\r\n\r\n</Section>\r\n\r\n\r\n<Filler theme=\"lightblue\" short={true} wide={true} center={false}>\r\n  <p class=\"text-big\">\r\n    Pour mieux comprendre la situation, sélectionnez votre catégorie d’âge.\r\n    Cela va nous permettre de visualiser les différences entre les générations et les conséquences sur leur accès au logement. \r\n  </p>\r\n  <h2> Quel âge avez-vous?</h2>\r\n\r\n\r\n <p> <select class=\"tooltipdecodeurs\" bind:value=\"{selectedAgeIndex}\" on:change=\"{handleAgeSelect}\">\r\n    {#each ageRanges as ageRange, index}\r\n      <option value={index}>{ageRange}</option>\r\n    {/each}<Em color=\"black\"></Em>\r\n  </select></p>\r\n</Filler>\r\n\r\n<Filler theme=\"light\" short={true} wide={true} center={false}>\r\n  <p class=\"mb\">\r\n    Vous avez <Em color=\"black\">{ageRangesForSentences[selectedAgeIndex]}</Em>? En 2020, les Belges de cette tranche d'âge avaient un revenu annuel moyen de <Em color=\"black\">{ageIncomeData[selectedAgeIndex] ? ageIncomeData[selectedAgeIndex].annualIncome : ''} €</Em>.\r\n    Cette somme va nous servir de référence pour observer l'influence de l'âge sur l'accès à la propriété dans notre pays.  \r\n  </p>\r\n</Filler>\r\n\r\n\r\n{#if geojson}\r\n<Scroller {threshold} bind:id={id['map']}>\r\n  <div slot=\"background\">\r\n    <figure>\r\n      <div class=\"col-full height-full\">\r\n        <Map on:load={updateColors} style={mapstyle} bind:map={map} interactive={false} location={{bounds: mapbounds.belgium}}>\r\n          <MapSource id=\"commune\" type=\"geojson\" data={geojson} promoteId=\"ID_4\" maxzoom={13}>\r\n              <MapLayer id=\"commune-fill\" idKey=\"ID_4\" data={geojson.features} type=\"fill\"\r\n                        select {selected} on:select={doSelect} \r\n                        hover {hovered} on:hover={doHover} \r\n                        highlight highlighted={mapHighlighted} \r\n                        paint={{\r\n                          'fill-color': ['case', ['!=', ['feature-state', 'color'], null], ['feature-state', 'color'], 'rgba(0, 0, 0, 0.1)'],\r\n                          'fill-opacity': 0.8\r\n                        }}>\r\n                 <MapTooltip content={\r\n                  hovered && metadata.lookup[hovered]\r\n                      ? `<div class=\"tooltipdecodeurs\">\r\n                          <div class=\"titre_tt\">${metadata.lookup[hovered].name}</div>\r\n                          <div class=\"hr\" style=\"\r\n                          border-top: 1px solid #e8eaee;\"></div>\r\n                          ${metadata.lookup[hovered].ageData[\"prix médian pour une maison\"] && metadata.lookup[hovered].ageData[\"prix médian pour une maison\"] !== \"nan€\" ? \"<div>Prix médian pour une maison: \" + metadata.lookup[hovered].ageData[\"prix médian pour une maison\"] + \"</div>\" : \"\"}\r\n                          ${metadata.lookup[hovered].ageData[\"prix médian pour un appartement\"] && metadata.lookup[hovered].ageData[\"prix médian pour un appartement\"] !== \"nan€\" ? \"<div>Prix médian pour un appartement: \" + metadata.lookup[hovered].ageData[\"prix médian pour un appartement\"] + \"</div>\" : \"\"}\r\n                         </div>`\r\n                      : ''\r\n                  } />\r\n               \r\n                            \r\n                \r\n                  \r\n              </MapLayer>\r\n              <MapLayer id=\"commune-line\" type=\"line\" \r\n                        paint={{\r\n                          'line-color': ['case', ['==', ['feature-state', 'hovered'], true], 'orange', ['==', ['feature-state', 'selected'], true], 'black', ['==', ['feature-state', 'highlighted'], true], 'black', 'rgba(255,255,255,0)'],\r\n                          'line-width': 2\r\n                        }}/>\r\n          </MapSource>\r\n\r\n          <div id=\"controls-container\" style=\"position: absolute; bottom: 10px; left: 10px; background-color: white; padding: 10px; border-radius: 5px; display: flex; flex-direction: column; align-items: center;\">\r\n\r\n            <!-- Première partie: Bouton Dézoomer -->\r\n            <button class=\"dezoomer-button\" on:click={resetView}>\r\n                Dézoomer\r\n            </button>\r\n          \r\n            <!-- Diviseur -->\r\n\r\n            <!-- Diviseur -->\r\n            <div style=\"height: 1px; background-color: grey; width: 80%; margin: 5px 0;\"></div>\r\n        \r\n            <!-- Troisième partie: Informations d'abordabilité -->\r\n            <div class=\"titre_tt\" style=\"display: flex; justify-content: space-between; margin-top: 10px; width: 100%;\">\r\n                <span style=\"font-size: 1rem; color: #000;\">Plus abordable</span>\r\n                <span style=\"font-size: 1rem; color: #000;\">Moins abordable</span>\r\n            </div>\r\n            \r\n            <Legende />\r\n        \r\n          </div>\r\n        \r\n        \r\n         \r\n      </Map>\r\n      </div>\r\n    </figure>\r\n  </div>\r\n\r\n\r\n  <div slot=\"foreground\">\r\n    <section data-id=\"map01\">\r\n      <div class=\"col-medium\">\r\n        <p>\r\n          Voici une carte qui représente les communes selon leur accessibilité. Les communes <Em color=\"blue\">bleues</Em> sont les plus accessibles, à l'inverse les communes <Em color=\"pink\">roses</Em> sont trop chères pour la moyenne des Belge ayant <Em color=\"elegant\">{ageRangesForSentences[selectedAgeIndex]}</Em>.  \r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n    <section data-id=\"map01\">\r\n      <div class=\"col-medium\">\r\n        <p>\r\n          Survolez la carte pour découvrir combien coûte une maison et/ou un appartement dans votre commune en 2023.\r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n    <section data-id=\"map01\">\r\n      <div class=\"col-medium\">\r\n        <p>\r\n          En utilisant le revenu moyen de chaque tranche d'âge, nous pouvons estimer la somme que vous pourriez emprunter selon les critères actuels de prêts actuellement appliqués par les banques belges. Ce montant est ensuite comparé aux prix de l’immobilier dans chaque commune.\r\n        </p>\r\n      </div>\r\n    </section>\r\n    \r\n    \r\n    <section data-id=\"map01\">\r\n      <div class=\"col-medium\">\r\n            <p>\r\n                En déplacant ce slider vous pourrez constater les différences entre les générations:\r\n            </p>        \r\n    \r\n            <div class=\"custom-slider-container\">\r\n                <input type=\"range\" style=\"width:657px;\" min=\"0\" max=\"{ageRanges.length - 1}\" bind:value=\"{selectedAgeIndex}\" on:change=\"{handleAgeSelect}\" class=\"custom-slider\">\r\n            </div>\r\n    \r\n            <!-- Conteneur pour les informations de tranche d'âge et de revenu -->\r\n            <div class=\"info-container\" style=\"display: flex; justify-content: space-between; max-width: 80%; margin-left: auto; margin-right: auto;\">\r\n              <div class=\"info-box\">\r\n                <label for=\"ageRangeBox\"><Em color=\"black\">Tranche d'âge</Em></label>\r\n                <div id=\"ageRangeBox\" class=\"data-box\">{ageRanges[selectedAgeIndex]}</div>\r\n              </div>\r\n              <div class=\"info-box\">\r\n                <label for=\"annualIncomeBox\"><Em color=\"black\">Revenu annuel</Em></label>\r\n                <div id=\"annualIncomeBox\" class=\"data-box\">{ageIncomeData[selectedAgeIndex] ? ageIncomeData[selectedAgeIndex].annualIncome : ''} €</div>\r\n              </div>\r\n            </div> \r\n        </div>\r\n    </section>\r\n    \r\n    \r\n\r\n    <section data-id=\"map03\">\r\n      <div class=\"col-medium\">\r\n        <p>\r\n          On le remarque assez vite, au sein de la population active, ce sont les Belges âgés de 25 à 29 ans qui sont les moins bien lotis. Voici à quoi ressemble leur carte. \r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n      <section data-id=\"map02\">\r\n      <div class=\"col-medium\">\r\n        <p>\r\n          C’est dans le Brabant Wallon que les acheteurs de moins de 30 ans sont les plus rares. Ils sont passés de <Em color=\"black\">20,2%</Em> en 2018 à <Em>16,2%</Em> en 2023, estime Fednot. La faute au confinement de 2020 et à la flambée des prix des maisons avec jardins se situant proches de la capitale. \r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n    <section data-id=\"map04\">\r\n      <div class=\"col-medium\">\r\n        <p>\r\n          A l’inverse, le porte-parole de Fednot Renaud Grégoire, indique que certaines communes comme Courcelles, Sambreville, La Louvière ou Binche connaissent un taux de pénétrations plus élevé. \r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n    <section data-id=\"map04\">\r\n      <div class=\"col-medium\">\r\n        <p>\r\n          « <cite>Si les plus jeunes sont encore présents sur le marché immobilier, c'est parce qu'ils vont dans les communes les moins chères. Les moins de 30 ans posent <Em color=\"black\">le prix</Em> comme critère principal. Ils iront donc chercher des biens moins accessibles à des tarifs plus avantageux</cite> », analyse Renaud Grégoire.\r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n   \r\n  </div>\r\n\r\n\r\n\r\n</Scroller>\r\n\r\n{/if}\r\n\r\n<Section>\r\n  <p class=\"mb\">\r\n    Le revenu plus faible des moins de 30 ans joue donc un rôle majeur dans ces inégalités mais il n'explique pas, à lui seul, ce recul de l'accès à la propriété chez les jeunes. Si les écarts de revenus entre les classes d'âge ne sont pas neufs, deux éléments ont, eux, radicalement empiré la situation : <Em color=\"blue\">le prix de l'immobilier</Em> et les critères requis pour <Em color=\"green\">un emprunt hypothécaire</Em>.\r\n </p>\r\n\r\n\r\n  <p class=\"mb\">\r\n    Dans une étude publiée en juillet 2022, la BNB posait en titre d'un rapport, la question suivante: «La propriété est-elle à la portée de tous en Belgique ?» La réponse de l'institution financière était pessimiste et désignait comme première responsable, la hausse continue du prix des logements ces 50 dernières années. \r\n </p>\r\n\r\n <div class=\"flourish-embed flourish-chart\" data-src=\"visualisation/14705524\"><script src=\"https://public.flourish.studio/resources/embed.js\"></script></div>\r\n\r\n\t<p>\r\n    La BNB qui dispose de données fiables depuis près de 50 ans pose un constat clair: «<cite>Depuis 1973, les prix des logements en Belgique ont été multipliés par un facteur 15. En prenant en compte l’inflation, <strong>les prix réels ont triplé</strong></cite>» , révèle l'instution financière. Les prix réels sont ceux qui prennent en compte le revenu disponible pour acquérir un bien. Alors que depuis 1990, les prix des logements ont augmenté entre 120 et 180% selon le type de biens, les salaires n’ont augmenté que de 27 % sur la même période.</p>\r\n\t<p>\r\n   Une augmentation sur le long terme donc, mais qui jusqu'à récemment, s'équilibrait avec des taux d'intérêts historiquement bas sur les emprunts hypothécaires. Ce sont ces faibles taux qui ont permis pendant longtemps à des ménages de s'endetter et d'accéder à la propriété. La BNB le rappelle : « <cite>une diminution des taux hypothécaires entraîne un allégement de la charge de remboursement des ménages pour un montant emprunté donné. Corollairement, pour une même charge de remboursement, le montant qui peut être emprunté augmente.</cite>» Mais depuis quelques mois, la machine s'est grippée.\r\n\t</p>\r\n\r\n  <h2 class=\"section-title\">La fin des taux attractifs?</h2>\r\n\r\n\t<p>\r\n    Pour ceux qui suivent le sujet, même les moins attentifs, la nouvelle n’en est pas vraiment une. La pandémie de Covid-19 puis la guerre en Ukraine ont causé une forte inflation. Les banques centrales ont relevés leurs taux directeurs et ont fait flamber les taux hypothécaires par la même occasion. Chaque mois les chiffres battent de nouveaux records, atteignant des seuils que l’on avait pas vus depuis parfois 12 ans. \r\n  </p>\r\n\r\n  <div class=\"flourish-embed flourish-chart\" data-src=\"visualisation/13615522\"><script src=\"https://public.flourish.studio/resources/embed.js\"></script></div>\r\n  \r\n  <p>\r\n    Les nombres de nouveaux crédits ont nettement diminué en un an, de l’ordre de 30% pour les crédits à la construction et jusqu’à 45% pour les crédits de rénovation. Les particuliers sont contraints de repousser, voire de tirer un trait sur leurs projets immobiliers. Ceux qui décident toutefois de s’y risquer voient leur demande d’apport augmenter de façon conséquente.\t\r\n  </p>\r\n\r\n  \r\n\r\n\r\n</Section>\r\n\r\n\r\n<Scroller>\r\n  <div slot=\"background\" class=\"col-wide height-full\">\r\n    <figure style=\"background-image: url('./img/sara.jpg'); background-position: 15% center; background-repeat: no-repeat; background-size: 50% auto;\">\r\n      <div class=\"col-wide height-full\"></div>\r\n    </figure>\r\n  </div>\r\n\r\n  <div slot=\"foreground\">\r\n   \r\n    <section>\r\n      <div class=\"col-medium left-centered-text\">\r\n        <blockquote class=\"citation-emphase\">\r\n          «Un appartement à ce prix-là, ça n'existe pas!»\r\n          <div class=\"attribution\">- Sara, 27 ans</div>\r\n        </blockquote>\r\n      </div>\r\n    </section>\r\n  \r\n    <section>\r\n      <div class=\"col-medium left-centered-text\">\r\n        <p>\r\n          «<cite>Les sommes exigées pour un prêt sont énormes, cela m’a choquée</cite>», confirme Sara, directrice des ventes dans une agence digitale à Waterloo. A 27 ans, elle et son conjoint viennent d’acquérir un appartement à 460 000 € après des semaines de démarches.\r\n        </p>\r\n        <p>\r\n          « <cite>Depuis quelques années, je souhaitais devenir propriétaire. Je touche un salaire plus que correct et mon conjoint est patron de sa propre entreprise de jardinage. Avec l’arrivée de ma fille en 2022, il fallait que nous quittions notre location. Je ne pensais pas que cela serait si compliqué d’acheter un bien</cite>», confie la jeune maman. En cause : les taux élevés et la frilosité des banques à l’octroi de prêts.\r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n    <section>\r\n      <div class=\"col-medium left-centered-text\">\r\n        <p>\r\n          Prenons l’exemple de Sara et son conjoint.  Leur apport comprend d’une part,  46 000 € pour un prêt à taux fixe sur 25 ans avec une quotité de 90%. D’autre part, les frais de notaires et d’enregistrements portent l’apport total à environs 140 000 euros. Une somme difficile à sortir de la poche des jeunes parents. \r\n        </p>\r\n        <p>\r\n          «<cite> J’avais commencé à économiser dès mon premier salaire et je disposais déjà de 40 000€. C’était largement insuffisant et nous avons dû compter sur les donations de la famille de mon conjoint pour couvrir le reste de la somme. Mes parents sont loin d’être en difficulté mais ils n’auraient pas pu me prêter cet argent. »\r\n        </p>\r\n      </div>\r\n    </section>\r\n\r\n    <section>\r\n      <div class=\"col-medium left-centered-text\">\r\n        <p>\r\n          En effet, un tel soutien, nombreuses sont les familles à ne pas pouvoir l’offrir. Sara le confirme : « <cite>Dans la même période, une amie s’est renseignée sur l’achat d’un appartement pour elle et son bébé. En tant que mère célibataire et sans aucun apport extérieur,  la banque lui a proposé 160 000 € de prêt maximum. Un appartement avec deux chambres à ce prix-là, ça n’existe pas.</cite> » Pas un neuf, du moins. \r\n        </p>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</Scroller>\r\n\r\n<Section>\r\n  <h2 class=\"section-title\">Existe-t-il un «facteur jeunesse» ?</h2>\r\n\r\n  <p class=\"mb\">\r\n  Il est vrai que les banques se montrent de plus en plus frileuse à accorder des prêts aux jeunes ménages. Fanny Bugeja-Bloch, Maitresse de conférence à l’Université Paris-Nanterre et sociolgue des inégalités analyse cette tendance: «<cite>Les moins de 30 ans sont une population fragile. Ils présentent des signaux qui rendent difficile l’accès à un logement abordable. La précarisation sur le marché, la proportion forte de chômeurs et d’inactifs ou encore les salaires irréguliers sont autant d’éléments qui freinent les banques avant d’accorder un crédit.</cite>»\r\n  </p>\r\n\r\n  <div class=\"conteneur\">\r\n      <img src=\"./img/fanny.png\" alt=\"Fanny\">\r\n  </div>\r\n\r\n\r\n  <p class=\"mb\">\r\n    Tous ces facteurs réunis finissent par plomber le capital dont dipose la jeunesse. Alors qu’en 1985, les moins de 25 ans consacraient au logement un budget deux fois plus élevés qu’un ménage de 75 ans, ce rapport était de 3 en 2015. Des efforts plus importants qui influencent le parcours de vie de ceux qui n’ont pas les ressources suffisantes, souvent héritées de leur famille. Et c'est en fin de vie que les inégalités se font alors ressentir, confirme Fanny Bugeja-Bloch: «<cite>Arrivés à l’âge de la retraite, les locataires ont une plus grande chance de connaitre la précarité car ils n’auront souvent disposé  d’aucun autre moyen de capitalisation pendant leurs années actives.</cite>»\r\n  </p>\r\n\r\n</Section>\r\n\r\n<Section>\r\n  <h2 class=\"section-title\">Les fonds publics sous pression</h2>\r\n\r\n  <p class=\"mb\">\r\n    Sans le soutien des banques et sans famille pour financer leur projet immobilier, les jeunes acheteurs se tournent alors vers les pouvoirs publics. Mais face à l’augmentation du nombre de demandes, leur capacité d'action est de plus en plus limitée. Exemple récent: le Fonds du Logement bruxellois a annoncé ce 2 mai <a href=\"https://fonds.brussels/fr/a-propos/communiques-de-presse/le-fonds-met-en-place-de-nouvelles-conditions-dacces-pour-son-credit\" target=\"_blank\">la restriction des conditions d’accès à ses crédits hypothécaires</a>, désormais réservés aux ménages dont les revenus correspondent aux barèmes du logement social, et ce jusqu’au 31 décembre 2023. \r\n  </p>\r\n\r\n\r\n  <p class=\"mb\">\r\n    Mis en place par la région bruxelloise, le Fonds propose notamment des crédits aux conditions avantageuses pour les foyers qui ne disposent pas d’assez de ressources pour contracter un prêt chez une banque. Fort de son succès , le Fonds du logement avait élargi cette possibilité à des foyers de la classe moyenne en 2015. L’institution vient donc de faire marche arrière, pour un temps du moins.\r\n  </p>\r\n\r\n  <p>\r\n    les perspectives d'une amélioration sont minces. Rien n'indique que les prix de l'immobilier devraient se maintenir à moyen termes. De leur côté, les taux devraient continuer leur ascension. La Banque centrale européenne vient de relever ses taux de 0,25 points et a annoncé poursuivre sa stratégie de lutte contre l'inflation pour quelques mois encore, entrainant avec elle l'ensemble des banques et éloignant toujours plus de jeunes foyers d’un accès à la propriété.\r\n  </p>\r\n\r\n</Section>\r\n\r\n<Section>\r\n  <h3>\r\n      Etienne Daman\r\n  </h3>\r\n</Section>\r\n\r\n<ONSFooter />\r\n\r\n\r\n\r\n\r\n\r\n\r\n<style>\r\n\r\n.dezoomer-button {\r\n    background-color: #007BFF;\r\n    color: white;\r\n    padding: 8px 15px;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n    font-size: 1rem;\r\n    transition: background-color 0.3s;\r\n}\r\n\r\n.dezoomer-button:hover {\r\n    background-color: #0056b3;\r\n}\r\n\r\n\r\n.conteneur {\r\n    display: flex;\r\n    justify-content: center; /* Centrer horizontalement */\r\n    align-items: center;     /* Centrer verticalement */          /* Exemple de hauteur, à adapter selon vos besoins */\r\n}\r\n\r\n\r\n\r\n.img {\r\n    max-width: 100%;         /* Pour s'assurer que l'image ne déborde pas du conteneur */\r\n    height: auto;\r\n}\r\n\r\n\r\n.left-centered-text {\r\n    margin-left: 50%; /* Pousse le texte vers la gauche */\r\n}\r\n\r\n/* Styles specific to elements within the demo */\r\n:global(svelte-scroller-foreground) {\r\n  pointer-events: none !important;\r\n}\r\n\r\n:global(svelte-scroller-foreground section div) {\r\n  pointer-events: all !important;\r\n}\r\n\r\n\r\nselect {\r\n  max-width: 350px;\r\n}\r\n\r\n.chart {\r\n  margin-top: 45px;\r\n  width: calc(100% - 5px);\r\n}\r\n\r\n.chart-full {\r\n  margin: 0 20px;\r\n}\r\n\r\n.chart-sml {\r\n  font-size: 0.85em;\r\n}\r\n\r\n:global(.tooltipdecodeurs) { \r\n    font-family: \"Marr Sans\", \"Helvetica Neue\", Helvetica, Arial;\r\n    border-radius: 0;\r\n}\r\n:global(.tooltipdecodeurs .titre_tt) { \r\n    font-family: \"Marr Sans\", \"Helvetica Neue\", Helvetica, Arial;\r\n    font-weight: 600;\r\n    font-size: 110%;\r\n    margin: .5em 0; \r\n}\r\n.tooltipdecodeurs .gris { color: #a2a9ae; }\r\n.tooltipdecodeurs .bulle { \r\n    border-radius: 50%;\r\n    width: 1rem;\r\n    height: 1rem;\r\n    border: 0;\r\n    display: inline-block;\r\n    margin: -.3rem .5rem 0 0;\r\n    vertical-align: middle;\r\n    cursor: default; \r\n}\r\n:global(.tooltipdecodeurs div) { display: block !important; }\r\n:global(.tooltipdecodeurs.hr) { \r\n    margin-top: 1rem;\r\n    border-top: 1px solid #050505;\r\n    padding-bottom: 1rem; \r\n}\r\n.tooltipdecodeurs, .arrow:after { \r\n    background: #FFF;\r\n    border: 1px solid #E2E4E9 !important; \r\n}\r\n\r\n.citation-emphase {\r\n    font-size: 36px; /* ou toute autre taille qui vous semble appropriée */\r\n    font-style: italic; \r\n    margin: 20px 0;\r\n    padding: 10px;\r\n    border-left: 3px solid #ccc;\r\n    color: #333;\r\n    background-color: #a1cbe3;\r\n}\r\n\r\n.attribution {\r\n    font-size: 18px;\r\n    font-style: normal;\r\n    text-align: right;\r\n}\r\n\r\n/* The properties below make the media DIVs grey, for visual purposes in demo */\r\n\r\n.custom-slider {\r\n    flex-grow: 1;\r\n    margin: 0 10px;\r\n    -webkit-appearance: none;\r\n    height: 5px;\r\n    background: #ddd;\r\n    outline: none;\r\n    border-radius: 5px;\r\n}\r\n\r\n.custom-slider::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    appearance: none;\r\n    width: 20px;\r\n    height: 20px;\r\n    background: #555;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n}\r\n\r\n.custom-slider::-moz-range-thumb {\r\n    width: 20px;\r\n    height: 20px;\r\n    background: #555;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n}\r\n.custom-slider-container {\r\n    width: 100%; /* Prend toute la largeur disponible de son parent */\r\n    padding: 10px 0; /* Ajoute un peu d'espace au-dessus et en dessous du slider */\r\n    box-sizing: border-box; /* Assurez-vous que les marges et les bordures ne débordent pas */\r\n}\r\n\r\n.info-container {\r\n  display: flex;\r\n  gap: 20px; /* Espace entre les cases */\r\n}\r\n\r\n.info-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.data-box {\r\n  border: 1px solid #ccc; /* Bordure pour la case */\r\n  padding: 5px 15px;      /* Espacement interne pour la case */\r\n  text-align: center;     /* Centrer le texte dans la case */\r\n  margin-top: 5px;        /* Espacement entre le label et la case */\r\n}\r\n\r\ncite, blockquote {\r\n    font-style: italic;\r\n}\r\n\r\n.limited-width {\r\n    max-width: 600px; /* Par exemple */\r\n}\r\n\r\n</style>\r\n",
    "<script>\n\timport { themes } from '../config.js';\n\timport { getContext } from 'svelte';\n\n  export let theme = getContext('theme');\n  export let hr = true;\n</script>\n\n<section style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['background']};\">\n\t<div class=\"col-medium\">\n    {#if hr}\n    <hr style=\"color: {themes[theme]['muted']}\"/>\n    {:else}\n    <hr style=\"color: {themes[theme]['muted']}; border: none;\"/>\n    {/if}\n\t</div>\n</section>\n\n<style>\n  hr {\n    width: 75px;\n    border: none;\n    border-top: 2px solid;\n    margin: 40px auto -10px auto;\n  }\n</style>\n\n",
    "<script>\n\timport { themes } from '../config.js';\n\timport { getContext } from 'svelte';\n\n\texport let theme = getContext('theme');\n\texport let center = true;\n\texport let wide = false;\n\texport let short = false;\n</script>\n\n<style>\n\tsection {\n\t\tpadding: 36px 0;\n\t}\n\t.short {\n\t\tmin-height: 70vh;\n\t}\n</style>\n\n<section style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['background']};\">\n\t<div class=\"middle\" class:center class:col-medium={!wide} class:col-wide={wide} class:height-full={!short} class:short>\n\t\t<slot></slot>\n\t</div>\n</section>",
    "<script>\n  import { themes } from '../config.js';\n\timport { getContext } from 'svelte';\n\n\texport let theme = getContext('theme');\n  export let bgimage = null;\n  export let bgcolor = null;\n  export let bgfixed = false;\n  export let center = true;\n  export let short = false;\n\n  let style = '';\n\n  if (bgimage) {\n    style += `background-image: url(${bgimage});`;\n  } else {\n    style += 'background-image: none;';\n  }\n\n  if (bgfixed) {\n    style += ' background-attachment: fixed;';\n  }\n</script>\n\n<style>\n  .short {\n    min-height: 85vh;\n  }\n  .v-padded {\n    box-sizing: border-box;\n    padding: 40px 0;\n  }\n  .header-content {\n    width: 100%;\n    max-width: 80%; /* Vous pouvez ajuster ce pourcentage selon vos besoins */\n    margin: 0 auto; /* Centrer le contenu */\n    word-wrap: break-word;\n  }\n</style>\n\n<header style=\"color: {themes[theme]['text']}; background-color: {bgcolor ? bgcolor : themes[theme]['background']}; {style}\" class:short>\n  <div class=\"v-padded col-wide middle\" style=\"position: relative\" class:short class:height-full={!short}>\n    <div class=\"header-content\">\n      <slot></slot>\n    </div>\n  </div>\n</header>\n\n\n\n\n\n",
    "<script>\n\timport { themes } from \"../config.js\";\n\timport { onMount, getContext } from \"svelte\";\n\timport { debounce } from \"debounce\";\n\n\tconst colWidths = {\n\t\tnarrow: 200,\n\t\tmedium: 300,\n\t\twide: 500,\n\t};\n\n\texport let theme = getContext(\"theme\");\n\texport let col = \"medium\";\n\texport let grid = null;\n\texport let caption = null;\n\texport let height = 200;\n\texport let gap = 12;\n\n\tlet gridClass = grid ? ` grid-${grid}` : '';\n\n\tlet nogrid = !(\"grid-gap\" in document.body.style);\n\t\n\tlet rowHeight = !Number.isNaN(height) ? height + \"px\" : height;\n\n\tlet gridGap = !Number.isNaN(gap) ? gap + \"px\" : gap;\n\n\t// The code below this point mimics CSS Grid functionality in IE 11\n\tconst minWidth = grid && colWidths[grid] ? colWidths[grid] : null;\n\n\tlet gridWidth;\n\tlet cols;\n\n\tlet el;\n\tlet divs;\n\tlet count;\n\n\tif (nogrid) {\n\t\tonMount(() => {\n\t\t\tresize();\n\t\t});\n\t}\n\n\tconst update = debounce(resize, 200);\n\n\tfunction resize() {\n\t\tif (el && !divs) {\n\t\t\tlet arr = [];\n\t\t\tlet children = el.childNodes;\n\t\t\tchildren.forEach((child) => {\n\t\t\t\tif (child.nodeName == \"DIV\") {\n\t\t\t\t\tarr.push(child);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdivs = arr;\n\t\t}\n\t\tcount = divs.length;\n\t\tcols = !minWidth || gridWidth <= minWidth ? 1 : Math.floor(gridWidth / minWidth);\n\t\tmakeCols();\n\t}\n\n\tfunction makeCols() {\n\t\tlet r =\n\t\t\tMath.ceil(count / cols) > 1\n\t\t\t\t? `-ms-grid-rows: 1fr (${gap}px 1fr)[${\n\t\t\t\t\t\tMath.ceil(count / cols) - 1\n\t\t\t\t  }]; grid-template-rows: 1fr repeat(${\n\t\t\t\t\t\tMath.ceil(count / cols) - 1\n\t\t\t\t  }, ${gap}px 1fr);`\n\t\t\t\t: `-ms-grid-rows: 1fr; grid-template-rows: 1fr;`;\n\t\tlet c =\n\t\t\tcols > 1\n\t\t\t\t? `-ms-grid-columns: 1fr (${gap}px 1fr)[${\n\t\t\t\t\t\tcols - 1\n\t\t\t\t  }]; grid-template-columns: 1fr repeat(${cols - 1}, ${gap}px 1fr);`\n\t\t\t\t: \"\";\n\t\tel.style.cssText = r + c;\n\t\tdivs.forEach((div, i) => {\n\t\t\tlet col = (i % cols) * 2 + 1;\n\t\t\tlet row = Math.floor(i / cols) * 2 + 1;\n\t\t\tdiv.style.cssText = `-ms-grid-column: ${col}; -ms-grid-row: ${row}; grid-column: ${col}; grid-row: ${row}; min-height: ${rowHeight};`;\n\t\t});\n\t}\n\n\t$: nogrid && (minWidth || gridWidth) && update();\n</script>\n\n{#if nogrid}\n<figure style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['background']};\">\n\t<div class=\"col-{col}\">\n\t\t<div bind:this={el} bind:clientWidth={gridWidth} class=\"grid-ms\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t</div>\n</figure>\n{:else}\n<figure style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['background']};\">\n\t<div class=\"col-{col}\">\n\t\t<div class=\"grid{gridClass}\" style=\"grid-gap: {gridGap}; min-height: {rowHeight}\">\n\t\t\t<slot></slot>\n\t\t</div>\n  </div>\n</figure>\n{/if}\n{#if caption}\n\t<caption style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['background']};\">\n\t\t<div class=\"col-medium\">\n\t\t\t<div class=\"caption\">{@html caption}</div>\n\t\t</div>\n\t</caption>\n{/if}\n\n<style>\n\t.grid-ms {\n\t\tdisplay: grid;\n\t\tdisplay: -ms-grid;\n\t\t-ms-grid-columns: 1fr;\n\t\tgrid-template-columns: 1fr;\n\t\tmargin-top: 40px;\n\t}\n\t.grid {\n\t\tdisplay: -ms-grid;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fill, 100%);\n\t\tmargin: 40px 0 0 0;\n\t}\n\t.grid-narrow {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(200px, 1fr)) !important;\n\t}\n\t.grid-medium {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;\n\t}\n\t.grid-wide {\n\t\tgrid-template-columns: repeat(auto-fill, minmax(500px, 1fr)) !important;\n\t}\n\t:global(.grid > div) {\n\t\tmin-height: inherit;\n\t}\n</style>\n",
    "<script>\n\timport { themes } from '../config.js';\n\timport { getContext } from 'svelte';\n\n\texport let theme = getContext('theme');\n</script>\n\n<footer style=\"color: {themes[theme]['text']}; background-color: {themes[theme]['pale']};\">\n\t<div class=\"col-wide\" data-analytics=\"footer\">\n\t\t<a href=\"https://uclouvain.be/fr/index.html\">\n\t\t\t{#if theme == 'dark'}\n\t\t\t<img\n\t\t\t\tclass=\"logo-img\"\n\t\t\t\tsrc=\"./img/ons-logo-neg-en.svg\"\n\t\t\t\talt=\"Office for National Statistics\" />\n\t\t\t{:else}\n\t\t\t<img\n\t\t\t\tclass=\"logo-img\"\n\t\t\t\tsrc=\"./img/ons-logo-black-en.svg\"\n\t\t\t\talt=\"Office for National Statistics\" />\n\t\t\t{/if}\n\t\t</a>\n\t\t<ul>\n\t\t\t<li><a href=\"https://uclouvain.be/fr/facultes/espo/comu.html\" class=\"link\" style=\"color: {themes[theme]['text']}\">COMU</a></li>\n\t\t\t<li><a href=\"https://uclouvain.be/fr/facultes/espo/comu/master-en-journalisme.html\" class=\"link\" style=\"color: {themes[theme]['text']}\">Ecole de journalisme de l'UCLouvain</a></li>\n\t\t</ul>\n\t\t<hr style=\"border-top-color: {themes[theme]['muted']}\" />\n\t\t<div class=\"license\">\n\t\t\tCe travail est un mémoire-projet mené dans le cadre du Master120 de l'école de jounralisme de l'UCLouvain\n\t\t</div>\n\t</div>\n</footer>\n\n<style>\n\tfooter {\n\t\tpadding-bottom: 72px;\n\t\tpadding-top: 36px;\n\t\tfont-size: 18px;\n\t}\n\tfooter a.link {\n\t\t-webkit-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\t\ttext-decoration: underline;\n\t\tdisplay: inline-block;\n\t}\n\tfooter a.link:hover {\n\t\ttext-decoration: none;\n\t}\n\tfooter a.link:active {\n\t\toutline: 3px solid transparent;\n\t\tbackground-color: #fd0;\n\t\t-webkit-box-shadow: 0 -2px #fd0, 0 4px #222;\n\t\tbox-shadow: 0 -2px #fd0, 0 4px #222;\n\t\tcolor: #222;\n\t\ttext-decoration: none;\n\t}\n\tfooter hr {\n\t\tmargin-bottom: 27px;\n\t\tmargin-top: 36px;\n\t\tborder: none;\n\t\tborder-top: 1px solid #777;\n\t}\n\tul {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\tli {\n\t\tmargin-right: 18px;\n\t\tdisplay: inline-block;\n\t}\n\t.logo-img {\n\t\tmargin-bottom: 27px;\n\t\twidth: 270px;\n\t}\n\t.ogl-img {\n\t\tmargin: 0 0.5rem 0.2rem 0;\n\t\twidth: 59px;\n\t\theight: 24px;\n\t\tvertical-align: middle;\n\t}\n\t.license {\n\t\tvertical-align: top;\n\t}\n\ta img:hover {\n\t\tcursor: pointer;\n\t}\n</style>",
    "<script>\n  import BarChart from '@onsvisual/svelte-charts/src/charts/BarChart.svelte';\nimport { themes } from '../config.js';\n\timport { getContext } from 'svelte';\n\n\texport let theme = getContext('theme');\n\texport let filled = false;\n\texport let center = true;\n</script>\n\n<nav style=\"border-bottom-color: {themes[theme]['muted']}; {filled ? 'background-color: ' +  themes[theme]['background'] + ';' : ''}\">\n  <div class=\"col-wide middle\" class:center>\n\t\t<a href=\"https://uclouvain.be/fr/index.html\">\n\t\t\t<picture>\n\t\t\t\t{#if theme == 'dark'}\n\t\t\t\t<img src=\"./img/ons-logo-black-en.svg\" alt=\"UCLouvain\">\n\t\t\t\t{:else if filled == true}\n\t\t\t\t<img src=\"./img/ons-logo-black-en.svg\" alt=\"UCLouvain\">\n\t\t\t\t{:else}\n\t\t\t\t<img src=\"./img/ons-logo-black-en.svg\" alt=\"UCLouvain\">\n\t\t\t\t{/if}\n\t\t\t</picture>\n\t\t</a>\n  </div>\n</nav>\n\n<style>\n\tnav {\n\t\t-webkit-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\t\tposition: relative;\n\t\theight: 46px;\n\t\tmargin-bottom: -46px;\n\t\tborder-bottom: 1px solid #777;\n\t\tz-index: 1;\n\t}\n\tpicture {\n\t\tposition: relative;\n\t\ttop: -3px;\n\t\tpadding: 0 5px;\n\t}\n\tpicture2 {\n\t\tposition: relative;\n\t\ttop: -3px;\n\t\tpadding: 0 5px;\n\t}\n\timg {\n\t\twidth: 270px;\n\t}\n\ta img:hover {\n\t\tcursor: pointer;\n\t}\n</style>",
    "<script context=\"module\">\r\n  // Based on svelte-scroller by Rich Harris\r\n  // https://github.com/sveltejs/svelte-scroller\r\n  // Patched to transpile to IE 11 and allow for split-screen view option\r\n\r\n\tconst handlers = [];\r\n\tlet manager;\r\n\r\n\tif (typeof window !== 'undefined') {\r\n\t\tconst run_all = () => handlers.forEach(fn => fn());\r\n\r\n\t\twindow.addEventListener('scroll', run_all);\r\n\t\twindow.addEventListener('resize', run_all);\r\n\t}\r\n\r\n\tif (typeof IntersectionObserver !== 'undefined') {\r\n\t\tconst map = new Map();\r\n\r\n\t\tconst observer = new IntersectionObserver((entries, observer) => {\r\n\t\t\tentries.forEach(entry => {\r\n\t\t\t\tconst update = map.get(entry.target);\r\n\t\t\t\tconst index = handlers.indexOf(update);\r\n\r\n\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\tif (index === -1) handlers.push(update);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tupdate();\r\n\t\t\t\t\tif (index !== -1) handlers.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, {\r\n\t\t\trootMargin: '400px 0px' // TODO why 400?\r\n\t\t});\r\n\r\n\t\tmanager = {\r\n\t\t\tadd: ({ outer, update }) => {\r\n\t\t\t\tconst { top, bottom } = outer.getBoundingClientRect();\r\n\r\n\t\t\t\tif (top < window.innerHeight && bottom > 0) handlers.push(update);\r\n\r\n\t\t\t\tmap.set(outer, update);\r\n\t\t\t\tobserver.observe(outer);\r\n\t\t\t},\r\n\r\n\t\t\tremove: ({ outer, update }) => {\r\n\t\t\t\tconst index = handlers.indexOf(update);\r\n\t\t\t\tif (index !== -1) handlers.splice(index, 1);\r\n\r\n\t\t\t\tmap.delete(outer);\r\n\t\t\t\tobserver.unobserve(outer);\r\n\t\t\t}\r\n\t\t};\r\n\t} else {\r\n\t\tmanager = {\r\n\t\t\tadd: ({ update }) => {\r\n\t\t\t\thandlers.push(update);\r\n\t\t\t},\r\n\r\n\t\t\tremove: ({ update }) => {\r\n\t\t\t\tconst index = handlers.indexOf(update);\r\n\t\t\t\tif (index !== -1) handlers.splice(index, 1);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n</script>\r\n\r\n<script>\r\n\timport { onMount } from 'svelte';\r\n\r\n\t// config\r\n\texport let top = 0;\r\n\texport let bottom = 1;\r\n\texport let threshold = 0.5;\r\n\texport let query = 'section';\r\n\texport let parallax = false;\r\n\r\n\t// bindings\r\n\texport let index = 0;\r\n\texport let count = 0;\r\n\texport let offset = 0;\r\n\texport let progress = 0;\r\n\texport let visible = false;\r\n\texport let splitscreen = false; // Add class to allow for split screen option\r\n\texport let id = null;\r\n\r\n\tlet outer;\r\n  let bgContainer; // IE patch. Container binding to update inline style\r\n\tlet foreground;\r\n\tlet background;\r\n\tlet left;\r\n\tlet sections;\r\n\tlet wh = 0;\r\n\tlet fixed;\r\n\tlet offset_top;\r\n\tlet width = 1;\r\n\tlet height;\r\n\tlet inverted;\r\n\r\n\t$: top_px = Math.round(top * wh);\r\n\t$: bottom_px = Math.round(bottom * wh);\r\n\t$: threshold_px = Math.round(threshold * wh);\r\n\r\n\t$: (top, bottom, threshold, parallax, update());\r\n\r\n\tonMount(() => {\r\n\t\tsections = foreground.querySelectorAll(query);\r\n\t\tcount = sections.length;\r\n\r\n\t\tupdate();\r\n\r\n\t\tconst scroller = { outer, update };\r\n\r\n\t\tmanager.add(scroller);\r\n\t\treturn () => manager.remove(scroller);\r\n\t});\r\n\r\n\t// IE patch. BG container style (fixed/unfixed) set via function\r\n  function setFixed() {\r\n    if (bgContainer) {\r\n      let style = `position: ${fixed ? 'fixed' : 'absolute'}; top: 0; transform: translate(0, ${offset_top}px); width: ${width}px; z-index: ${inverted ? 3 : 1};`;\r\n      bgContainer.style.cssText = style;\r\n    }\r\n  }\r\n\r\n\tfunction update() {\r\n\t\tif (!foreground) return;\r\n\r\n\t\t// re-measure outer container\r\n\t\tconst bcr = outer.getBoundingClientRect();\r\n\t\tleft = bcr.left;\r\n\t\twidth = bcr.right - bcr.left;\r\n\r\n\t\t// determine fix state\r\n\t\tconst fg = foreground.getBoundingClientRect();\r\n\t\tconst bg = background.getBoundingClientRect();\r\n\r\n\t\tvisible = fg.top < wh && fg.bottom > 0;\r\n\r\n\t\tconst foreground_height = fg.bottom - fg.top;\r\n\t\tconst background_height = bg.bottom - bg.top;\r\n\r\n\t\tconst available_space = bottom_px - top_px;\r\n\t\tprogress = (top_px - fg.top) / (foreground_height - available_space);\r\n\r\n\t\tif (progress <= 0) {\r\n\t\t\toffset_top = 0;\r\n      if (fixed) {\r\n        fixed = false;\r\n        setFixed();\r\n      } // Non-IE specific patch to avoid setting style repeatedly\r\n\t\t} else if (progress >= 1) {\r\n\t\t\toffset_top = parallax\r\n\t\t\t\t? (foreground_height - background_height)\r\n\t\t\t\t: (foreground_height - available_space);\r\n      if (fixed) {\r\n        fixed = false;\r\n        setFixed();\r\n      }\r\n\t\t} else {\r\n\t\t\toffset_top = parallax ?\r\n\t\t\t\tMath.round(top_px - progress * (background_height - available_space)) :\r\n\t\t\t\ttop_px;\r\n      if (!fixed) {\r\n        fixed = true;\r\n        setFixed();\r\n      }\r\n\t\t}\r\n\r\n\t\tfor (index = 0; index < sections.length; index += 1) {\r\n\t\t\tconst section = sections[index];\r\n\t\t\tconst { top } = section.getBoundingClientRect();\r\n\r\n\t\t\tconst next = sections[index + 1];\r\n\t\t\tconst bottom = next ? next.getBoundingClientRect().top : fg.bottom;\r\n\r\n\t\t\toffset = (threshold_px - top) / (bottom - top);\r\n\t\t\tid = section.dataset.id ? section.dataset.id : null;\r\n\t\t\tif (bottom >= threshold_px) break;\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<svelte:window bind:innerHeight={wh}/>\r\n\r\n<svelte-scroller-outer bind:this={outer} class:splitscreen>\r\n\t<svelte-scroller-background-container class='background-container' bind:this={bgContainer}>\r\n\t\t<svelte-scroller-background bind:this={background}>\r\n\t\t\t<slot name=\"background\"></slot>\r\n\t\t</svelte-scroller-background>\r\n\t</svelte-scroller-background-container>\r\n\r\n\t<svelte-scroller-foreground bind:this={foreground}>\r\n\t\t<slot name=\"foreground\"></slot>\r\n\t</svelte-scroller-foreground>\r\n</svelte-scroller-outer>\r\n\r\n<style>\r\n\tsvelte-scroller-outer {\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\tmax-width: 100%;\r\n\t}\r\n\r\n\tsvelte-scroller-background {\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tsvelte-scroller-foreground {\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\tz-index: 2;\r\n\t}\r\n\r\n\tsvelte-scroller-foreground::after {\r\n\t\tcontent: ' ';\r\n\t\tdisplay: block;\r\n\t\tclear: both;\r\n\t}\r\n\r\n\tsvelte-scroller-background-container {\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\tmax-width: 100%;\r\n\t\tpointer-events: none;\r\n\t\t/* height: 100%; */\r\n\r\n\t\t/* in theory this helps prevent jumping */\r\n\t\twill-change: transform;\r\n\t\t/* -webkit-transform: translate3d(0, 0, 0);\r\n\t\t-moz-transform: translate3d(0, 0, 0);\r\n\t\ttransform: translate3d(0, 0, 0); */\r\n\t}\r\n</style>",
    "<script>\n  export let color = \"black\";\n  export let animation = true;\n\texport let center = true;\n\n  const colors = [\"black\", \"white\"];\n\n  color = colors.includes(color) ? color : \"black\";\n</script>\n\n{#if center}\n<slot></slot><br/>\n<img src=\"./img/scroll-down-{color}.svg\" class=\"arrow\" class:bounce={animation} alt=\"\" aria-hidden=\"true\"/>\n{:else}\n<img src=\"./img/scroll-down-{color}.svg\" class=\"arrow left\" class:bounce={animation} alt=\"\" aria-hidden=\"true\"/><slot></slot>\n{/if}\n\n<style>\n\t.arrow {\n\t\twidth: 56px;\n\t\theight: 56px;\n\t}\n\t.left {\n\t\tmargin-right: 10px;\n\t}\n\t.bounce {\n\t\t-webkit-animation-duration: 2s;\n\t\t        animation-duration: 2s;\n\t\t-webkit-animation-iteration-count: infinite;\n\t\t        animation-iteration-count: infinite;\n\t\t-webkit-animation-name: bounce;\n\t\t        animation-name: bounce;\n\t\t-webkit-animation-timing-function: ease;\n\t\t        animation-timing-function: ease;\n\t}\n\t@-webkit-keyframes bounce {\n\t\t0%   { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t\t30%  { -webkit-transform: translateY(-10px); transform: translateY(-10px); }\n\t\t50%  { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t\t100% { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t}\n\t@keyframes bounce {\n\t\t0%   { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t\t30%  { -webkit-transform: translateY(-10px); transform: translateY(-10px); }\n\t\t50%  { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t\t100% { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t}\n</style>",
    "<script>\n  export let color = \"black\";\n  export let animation = true;\n\texport let center = true;\n\n  const colors = [\"black\", \"white\"];\n\n  color = colors.includes(color) ? color : \"black\";\n</script>\n\n{#if center}\n<slot></slot><br/>\n<img src=\"./img/scroll-down-{color}.svg\" class=\"arrow\" class:bounce={animation} alt=\"\" aria-hidden=\"true\"/>\n{:else}\n<img src=\"./img/scroll-down-{color}.svg\" class=\"arrow left\" class:bounce={animation} alt=\"\" aria-hidden=\"true\"/><slot></slot>\n{/if}\n\n<style>\n\t.arrow {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t}\n\t.left {\n\t\tmargin-right: 10px;\n\t}\n\t.bounce {\n\t\t-webkit-animation-duration: 2s;\n\t\t        animation-duration: 2s;\n\t\t-webkit-animation-iteration-count: infinite;\n\t\t        animation-iteration-count: infinite;\n\t\t-webkit-animation-name: bounce;\n\t\t        animation-name: bounce;\n\t\t-webkit-animation-timing-function: ease;\n\t\t        animation-timing-function: ease;\n\t}\n\t@-webkit-keyframes bounce {\n\t\t0%   { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t\t30%  { -webkit-transform: translateY(-10px); transform: translateY(-10px); }\n\t\t50%  { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t\t100% { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t}\n\t@keyframes bounce {\n\t\t0%   { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t\t30%  { -webkit-transform: translateY(-10px); transform: translateY(-10px); }\n\t\t50%  { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t\t100% { -webkit-transform: translateY(10px); transform: translateY(10px); }\n\t}\n</style>",
    "<script>\n  import parse from 'parse-color';\n\n  export let color = 'lightgrey';\n\texport let nowrap = true;\n\n  function textColor(rgb) {\n\t\tconst brightness = ((rgb[0] * 299) + (rgb[1] * 587) + (rgb[2] * 114)) / 1000;\n\t\treturn (brightness > 125) ? 'black' : 'white';\n\t}\n\n  let text = 'black';\n\n\t$: rgb = parse(color).rgb;\n\t\n\t$: if (rgb) {\n\t\ttext = textColor(rgb);\n\t}\n\n</script>\n\n<span class=\"em\" class:nowrap style=\"background-color: {color}; color: {text};\" role=\"presentation\">\n  <slot></slot>\n</span>\n\n<style>\n\t.em {\n\t\tpadding: 1px 4px 1px 4px;\n\t\tfont-weight: bold;\n\t}\n\t.nowrap {\n\t\twhite-space: nowrap;\n\t}\n</style>",
    "<script>\n  export let id = \"switch\";\n  export let label = \"Label\";\n  export let mono = false;\n  export let checked;\n</script>\n\n<div class=\"switch\">\n  <input bind:checked {id} type=\"checkbox\" class=\"switch-input\" tabindex=\"0\" />\n  <label for={id} class=\"switch-label\" class:mono>{label}</label>\n</div>\n\n<style>\n  .switch {\n    position: relative;\n    display: inline-block;\n  }\n  .switch-input {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    border: 0;\n  }\n  .switch-label::before,\n  .switch-label::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    cursor: pointer;\n  }\n  .switch-label {\n    display: block;\n    cursor: pointer;\n    margin-top: -4px;\n    margin-left: 58px;\n  }\n  .switch-label::before {\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    top: 0;\n    left: 0;\n    width: 48px;\n    height: 24px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    background-color: #aaa;\n    border-radius: 9999em;\n    -webkit-transition: background-color 0.25s ease;\n    -o-transition: background-color 0.25s ease;\n    transition: background-color 0.25s ease;\n  }\n  .switch-label::after {\n    top: 3px;\n    left: 3px;\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    background-color: #000000;\n    -webkit-transition: left 0.25s ease;\n    -o-transition: left 0.25s ease;\n    transition: left 0.25s ease;\n  }\n  .switch-input:checked + .switch-label::before {\n    background-color: rgb(32, 96, 149);\n  }\n  .switch-input:checked + .switch-label::after {\n    left: 27px;\n    top: 3px;\n  }\n\n  .mono::before {\n    border: 2px solid black;\n    background: none !important;\n  }\n</style>"
  ],
  "names": [],
  "mappings": "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"
}